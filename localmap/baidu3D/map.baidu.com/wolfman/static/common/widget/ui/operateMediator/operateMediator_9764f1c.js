define("common:widget/ui/operateMediator/operateMediator.js",function(o,n,a){var t=0,i=1,e=o("common:widget/ui/ui3MobileDownload/ui3MobileDownload.js"),p={init:function(){{var o=this;window._OLR.uid}T.ajax("/",{data:{qt:"operateData",getOpModules:["op1","op2","op3","op4","op5","op6","op7"]},dataType:"json",traditional:!0,success:function(n){if(n&&0===n.status){var a=n.data;a&&(T.each(a,function(o,n){listener.trigger("operateMediator."+o,"init",n)}),listener.on("operateMediator",function(n,t){o.pipe(t,a,n)}))}},error:function(){o.retry()}})},retry:function(){t>=i||(t++,this.init())},pipe:function(o,n,a){var t=n[o.opid],i=n.op7;if(t){var e=t.bannerImg,p=t.backgroundImg;if(e){T.extend(t,o,i),p||(t.backgroundImg="//webmap0.bdimg.com/wolfman/static/common/images/ui3/luhan_23282dd.png");var r=t.contentList;r&&r.length>4&&(r=r.slice(0,4)),"function"==typeof this[a]&&this[a].call(this,t),"display"===a?addStat("op-banner-"+t.opid,"show",{}):"openPop"===a&&addStat("op-banner-"+t.opid,"click",{})}}},initOpBanner:function(o){T.each(o,function(o,n){listener.trigger("operateMediator","display",{opid:n.opid,opTarget:n.bannerWrap}),n.bannerWrap.delegate("img","click",function(){listener.trigger("operateMediator","openPop",{opid:n.opid})}),n.bannerWrap.delegate("a","click",function(){var o=T(this);listener.trigger("operateMediator","download",{opTarget:o,opid:n.opid})})})},display:function(o){o.opTarget.addClass("op-banner").attr("opid",o.opid).show().append('<img src="'+o.bannerImg+'" />')},openPop:function(){},download:function(o){var n=o.opTarget;"pc2MoAndriod"===n.attr("class")?(T("[name=andriodApk]").attr("src","https://newclient.map.baidu.com/client/mapappdownload?app=map&qudao="+o.qudao),e.openDownloadPop(o),addStat("op-banner-"+o.opid+"-bannerAndriod","click",{})):"pc2MoIphone"===n.attr("class")&&(window.open("http://itunes.apple.com/cn/app/id452186370?ls=1&mt=8"),e.openDownloadPop(o),addStat("op-banner-"+o.opid+"-bannerIos","click",{}))}};a.exports=p});