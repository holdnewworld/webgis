define("common:widget/ui/Traffic/Traffic.js",function(t,i,n){var o=t("common:widget/ui/tools/tools.js"),f=t("common:widget/ui/PanoUtil/PanoUtil.js");n.exports={setHighLevel:function(){"B_NORMAL_MAP"==map.mapType&&this.setBtn(this.need2ShowTraffic())},setBtnStatus:function(){var t=this.need2ShowTraffic();this.setBtn(t)},setBtn:function(t,i){var n=window,f=this,e=T.g("tool_traffic");t?(e.onclick=function(t){t=t||window.event,n.trafficCtrl||f.loadTrafficCtrl(),baidu.event.preventDefault(t)},i&&f.loadTrafficCtrl()):n.trafficCtrl&&n.trafficCtrl.hide(),e&&(e.style.display=t?"":"none"),o.resetWidth()},need2ShowTraffic:function(){if(window.PanoMap&&window.PanoMap.isOpen||f&&f.isOpen)return!1;var t=map.getZoom(),i=map.mapType;return t&&i!=BMAP_TYPE_DIMENSIONAL},exit:function(t){t=t||"",window.trafficCtrl&&window.trafficCtrl.close({type:t})},loadTrafficCtrl:function(){window.isPrint||t.async(["common:widget/ui/TrafficEvent/TrafficEvent.js","common:widget/com/TrafficControl/TrafficControl.js"],function(t,i){window.trafficCtrl=new i,trafficCtrl.show(),trafficCtrl.open()})}}});