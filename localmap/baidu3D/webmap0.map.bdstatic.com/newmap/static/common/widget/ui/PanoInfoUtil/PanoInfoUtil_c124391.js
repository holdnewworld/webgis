define("common:widget/ui/PanoInfoUtil/PanoInfoUtil.js",function(o,n,i){function a(o,n,i){t.showPano(o);var a=n.split("|");if(a.length>1){var e={from:a[0],catalog:a[1]};o.poi&&o.poi.poiuid&&(e.uid=o.poi.poiuid),addStat(STAT_CODE.STAT_STREETVIEW,e)}else addStat(STAT_CODE.STAT_STREETVIEW,{item:o.panoType,catalog:n,func:"click",query:i}),"餐馆"==i&&addStat("http://webmap0.map.bdstatic.com/newmap/static/common/widget/ui/PanoInfoUtil/poilistnormal.poi.pano")}var e=(o("common:widget/com/componentManager.js"),o("common:widget/ui/PanoService/PanoService.js")),t=o("common:widget/pano/PanoInterface/PanoInterface.js"),d=(o("common:widget/ui/PanoUtil/PanoUtil.js"),window.Pano=window.Pano||{}),r={show:function(n){var i=baidu.g("panoInfoWindow"),n=n||{},a=n.data;o.async(["common:widget/com/PanoInfoWindow/PanoInfoWindow.js","common:widget/ui/searchInfoWindow/searchInfoWindow.js"],function(o,e){new o({dom:i,cinfo:{uid:a.uid,panoViewIns:n.panoView,direction:a.direction,exitLargeMapMode:!1,searchInfoWindow:e}})}),baidu.dom.show(i),baidu.dom.setStyle(i,"top",a.screenY-57+"px");var e=baidu.dom.getPosition("MapHolder");a.direction?baidu.dom.setStyle(i,"left",a.screenX+e.left-345-11+"px"):baidu.dom.setStyle(i,"left",a.screenX+e.left+11+"px")},close:function(){var o=o||{};o.iw_sugg_0&&(o.iw_sugg_0.disposeSug(),o.iw_sugg_0=null),o.iw_sugg_1&&(o.iw_sugg_1.disposeSug(),o.iw_sugg_1=null),baidu.g("panoInfoWindow").innerHTML="",baidu.setStyle("panoInfoWindow","display","none")},callPano:function(o){o=o||{};var n=this,i=o.uid,t=o.index,r=o.addr,c=o.from,p=o.wd||"",s=function(o){if(0==o.error&&o.content){var n=o.content,e=parseFloat(n.PanoX),s=parseFloat(n.PanoY),u=new BMap.Point(e,s),l=null,f=null;l={addr:r,poiuid:i,index:"undefined"==typeof t?-1:t,x:n.X,y:n.Y,pid:n.PID,px:e,py:s,name:n.name||"",rank:n.Rank||10,catalog:n.Catalog||"",heading:n.Dir,pitch:n.Pitch},f={point:u,panoId:n.PID,panoType:d.PANO_TYPE_STREET,panoHeading:n.Dir,panoPitch:n.Pitch,from:"poi",panoMarkers:[l],poiUid:i},a(f,c,p)}};e.getStreetViewByUid(i,s,n)},callInnerPano:function(o){o=o||{};var n=this,i=o.uid,a=(o.from,o.wd||"",o.isFromMPC||!1,function(o){if(0==o.error&&o.content){var n=o.content;pinfo={panoId:n.IID,panoType:d.PANO_TYPE_INDOOR,poiUid:i},t.showPano({research:!0,panoType:"inter",searchParam:{uid:i,from:"list"}})}});e.getStreetViewByUid(i,a,n)}};d.PanoInfoUtil=r,i.exports=r});