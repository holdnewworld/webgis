define("common:widget/ui/urlQueryProcessor/UrlQueryProcessor.js",function(e,n,o){function t(e){if(!e.data||!e.data[0].result){var n=c.getParam(location.href),o=n.latlng.split(",")[1],t=n.latlng.split(",")[0],d=BMap.Project.convertLL2MC(new BMap.Point(o,t)),r=new BMap.Marker(d);map.addOverlay(r),map.centerAndZoom(d,17),n.autoOpen&&"true"==n.autoOpen&&i(r,d),r.addEventListener("click",function(){a.iw&&a.iw.isOpen()||i(r,d)})}}function i(n,o){e.async("common:widget/ui/searchInfoWindow/searchInfoWindow.js",function(e){a.iw=e.createSearchInfoWnd({title:T.encodeHTML(t.tit),mingpian:T.encodeHTML(t.content)},{cityCode:f.cityCode,x:o.lng,y:o.lat}),e.openSearchInfoWndPOI(a.iw,n)})}function a(){var e=c.getParam(location.href),n=e&&e.title||"",o=e&&e.content||"";e&&e.latlng&&(n||""==n)&&(o||""==o)&&(t.tit=c.filtQuery(decodeURIComponent(n)),t.content=c.filtQuery(decodeURIComponent(o)),d({confilterWords:[t.tit+t.content]}))}function d(e){for(var n=e.confilterWords,o=(e.callback,"../../../../../../../map.baidu.com/maps/transformers/confilter-.htm"/*tpa=http://map.baidu.com/maps/transformers/confilter?*/),i=[],a=0;a<n.length;a++)i.push("q[]="+encodeURIComponent(n[a]));baidu.jsonp(o+"&"+i.join("&"),function(e){t(e)},{cbtype:"cb"})}var c=e("common:widget/ui/util/util.js"),r=e("common:widget/ui/searchBox/searchBox.js"),s=e("common:widget/com/componentManager.js"),l=e("common:widget/ui/config/config.js"),f=l.modelConfig,u=(l.mapConfig,{processUrlQuery:function(){var e=window.location.search?window.location.search.substr(1):"";if(e){for(var n=e.split("&"),o={},t=0,i=n.length;i>t;t++){var a=n[t].split("=");try{o[a[0]]=decodeURIComponent(a[1])}catch(d){continue}}var l=o.saddr||o.daddr,u=c.filtQuery(o.saddr)||c.filtQuery(o.daddr);if(l)if(u){var m=o.ccode||f.cityCode;if(c.filtQuery(o.saddr)&&c.filtQuery(o.daddr)){var p="t"==o.dirflag?"bs":"nav",g=encodeURIComponent("2$$$$$$"+o.saddr+"$$0$$$$"),w=encodeURIComponent("2$$$$$$"+o.daddr+"$$0$$$$");s.go("bs"==p?"bt&c="+m+"&sn="+g+"&en="+w:"nav&c="+m+"&sc="+m+"&ec="+m+"&sn="+g+"&en="+w+(window.navTimeCache?"&time_index="+window.navTimeCache.timeIndex+"&day="+window.navTimeCache.day:"&time_index=-1&day=-1"))}else s.go("s&wd="+encodeURIComponent(u)+"&c="+m,{onload:function(){o.dirflag="d"==o.dirflag?"d":"t";var e="d"==o.dirflag?3:2;setTimeout(function(){r.setSwitchTab(e),r.setQValue(o.saddr,e,0),r.setQValue(o.daddr,e,1),o.saddr?r.setQFocus(e,1):r.setQFocus(e,0)},1)}})}else{var $="d"==o.dirflag?3:2;r.setSwitchTab($)}}},handleUrlExt:a});o.exports=u});