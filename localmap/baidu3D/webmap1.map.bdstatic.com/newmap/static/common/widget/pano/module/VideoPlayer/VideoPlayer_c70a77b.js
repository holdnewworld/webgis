define("common:widget/pano/module/VideoPlayer/VideoPlayer.js",function(o,t,e){var i=o("common:widget/pano/base/ModuleClass.js"),r=o("common:widget/ui/config/config.js"),n=o("common:widget/pano/module/VideoPlayer/Player.js"),a=(o("common:widget/pano/base/util.js"),r.urlConfig);o.loadCss({content:'@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}.video-player-container{position:absolute;z-index:9999999;left:0;top:0;background-color:rgba(0,0,0,.8);width:100%;height:100%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-animation:fadeIn 1s forwards;-ms-box-align:center;-ms-box-pack:center;opacity:0;opacity:1\\9}.player-frame{margin:0 auto;width:902px;height:512px;position:relative;background-color:#000;-webkit-user-select:none;overflow:hidden;box-shadow:0 0 100px #000}.player-frame.fullscreen{width:100%;height:100%}.player-frame>.close-btn{position:absolute;right:0;top:-41px;width:40px;height:40px;background-color:rgba(14,14,14,.7);z-index:3;cursor:pointer;-webkit-transition:top 600ms ease-out,background-color 400ms}.player-frame>.close-btn:before,.player-frame>.close-btn:after{position:absolute;top:20px;left:5px;content:\'\';width:30px;height:1px;background-color:#ccc;-webkit-transform:rotate(45deg);-webkit-transition:background-color 400ms}.player-frame>.close-btn:after{-webkit-transform:rotate(-45deg)}.player-frame>.loading-mask{position:absolute;z-index:1;width:105%;height:105%;left:-3px;top:-3px;background-color:rgba(0,0,0,.8);color:#fff;text-align:center;font-size:80px;line-height:512px;-webkit-transition:opacity 200ms;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;opacity:1}.player-frame>.loading-mask.hide{opacity:0;pointer-events:none}.player-frame>.loading-mask>.play{width:78px;height:78px;border-radius:50%;cursor:pointer;line-height:100px;font-size:16px;position:relative;background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/pano_whole/video-icons_7655488.png) 0 -208px}.player-frame>.loading-mask>.repeat{width:61px;height:74px;cursor:pointer;line-height:100px;font-size:16px;margin-right:100px;background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/pano_whole/video-icons_7655488.png) 6px -71px}.player-frame>.loading-mask>.repeat:before{content:"重播";position:relative;top:22px}.player-frame>.loading-mask>.share{width:61px;height:74px;cursor:pointer;line-height:100px;font-size:16px;background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/pano_whole/video-icons_7655488.png) 6px -137px no-repeat}.player-frame>.loading-mask>.share:before{content:"分享";position:relative;top:22px}@-webkit-keyframes spin{0%{-webkit-transform:scale(1,1)}20%{-webkit-transform:scale(1,4)}40%{-webkit-transform:scale(1,1)}100%{-webkit-transform:scale(1,1)}}@-webkit-keyframes shade{0%{box-shadow:0 0 0 #1991f0}20%{box-shadow:0 0 30px 3px #1991f0}40%{box-shadow:0 0 10px 2px #1991f0}100%{box-shadow:0 0 0 #1991f0}}.player-frame>.loading-mask>i{display:inline-block;width:25px;height:6px;background-color:#1991f0;margin:0 3px;-webkit-animation:shade 2.5s infinite;border-radius:3px}.player-frame>.loading-mask>i:nth-child(2){-webkit-animation-delay:.5s}.player-frame>.loading-mask>i:nth-child(3){-webkit-animation-delay:1s}.player-frame>.loading-mask>i:nth-child(4){-webkit-animation-delay:1.5s}.video-player{width:100%;height:100%}.video-controls{position:absolute;width:100%;height:40px;bottom:-40px;left:0;z-index:2;-webkit-transition:bottom 600ms ease-out}.video-controls>.left-btn{display:inline-block;height:100%;width:70px;background-color:rgba(37,37,37,.8);cursor:pointer;position:relative}.video-controls>.left-btn>.line{width:3px;height:25px;position:absolute;left:25px;top:6px;background-color:#1991f0;-webkit-transition:-webkit-transform 600ms;-webkit-transform-origin:0 0}.video-controls>.left-btn:hover>.line{box-shadow:0 0 10px #1991f0}.video-controls>.left-btn.play>.line:nth-child(1){-webkit-transform:rotate(-57deg)}.video-controls>.left-btn.play>.line:nth-child(3){-webkit-transform:rotate(57deg);-webkit-transform-origin:0 100%}.video-controls>.left-btn.pause>.line:nth-child(1){-webkit-transform:translateX(13px)}.video-controls>.left-btn.pause>.line:nth-child(3){-webkit-transform:rotate(0);-webkit-transform-origin:0 100%}.video-controls>.right-btn{position:absolute;top:0;right:0;height:100%;width:100px;background-color:rgba(37,37,37,.8)}.video-controls>.right-btn .share-btn,.video-controls>.right-btn .fullscreen-btn{display:inline-block;width:49px;height:100%;cursor:pointer;background-image:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/pano_whole/video-icons_7655488.png);background-position:12px 7px;background-repeat:no-repeat}.video-controls>.right-btn .share-btn{background-position:-22px 8px}.video-controls>.right-btn .share-btn:hover,.video-controls>.right-btn .share-btn.active{background-position:-22px -29px}.video-controls>.right-btn .fullscreen-btn:hover,.fullscreen .video-controls>.right-btn .fullscreen-btn{background-position:12px -30px}.video-controls>.progress{position:absolute;top:0;left:70px;right:100px;height:100%;background-color:rgba(25,145,240,.2);overflow:hidden}.video-controls>.progress:before{content:\'\';display:block;background-color:rgba(255,255,255,.2);position:absolute;height:1px;top:20px;width:100%}.video-controls>.progress>.currentTime,.video-controls>.progress>.maxTime{position:absolute;color:#b2b2b2;bottom:0;font-size:12px;height:20px;line-height:20px}.video-controls>.progress>.currentTime{left:4px}.video-controls>.progress>.maxTime{right:4px}.video-controls>.progress .progress-bar{height:100%;width:0;background-color:rgba(25,145,240,.2);position:relative}.video-controls>.progress .progress-bar-btn{position:absolute;height:40px;width:30px;right:-15px;top:0;cursor:pointer;text-align:center}@-webkit-keyframes shadowBorder{0%{box-shadow:0 0 3px 1px #1991f0}50%{box-shadow:0 0 5px 3px #1991f0}100%{box-shadow:0 0 3px 1px #1991f0}}.progress-bar-btn-inner{background-color:#1991f0;width:1px;height:40px;-webkit-transition:all 200ms;position:absolute;right:15px;-webkit-animation:shadowBorder 3s infinite;border-radius:10px}.player-frame>#pano-share-panel{right:10px;bottom:50px}.player-frame .tooltip{width:100%;color:#999;position:absolute;opacity:0;top:0;text-align:center;width:100%;-webkit-transition:all 400ms ease-out}.left-btn>.tooltip{left:0}.right-btn>.tooltip{right:4px}.left-btn:hover>.tooltip,.share-btn:hover>.tooltip,.fullscreen-btn:hover>.tooltip{top:-30px;opacity:1}.tooltip:before{background-color:rgba(37,37,37,.8);padding:3px 12px;border-radius:4px}.tooltip:after{content:\'\';width:1px;height:1px;border:8px solid transparent;border-top-color:rgba(37,37,37,.8);position:absolute;top:16px}.left-btn:hover>.tooltip:after{left:25px}.left-btn.play>.tooltip:before{content:"播放"}.left-btn.pause>.tooltip:before{content:"暂停"}.share-btn>.tooltip{left:-23px}.share-btn>.tooltip:before{content:"分享"}.share-btn>.tooltip:after{left:40px}.fullscreen-btn>.tooltip{text-align:right;right:2px}.fullscreen-btn>.tooltip:before{content:"全屏"}.fullscreen-btn>.tooltip:after{right:15px}.fullscreen .fullscreen-btn>.tooltip:before{content:"取消全屏"}'});var p=i.extend("VideoPlayer",{initialize:function(o){try{var t=this.container=document.createElement("div");t.className="video-player-container",this.play(o)}catch(e){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/VideoPlayer/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/pano/module/VideoPlayer/VideoPlayer.js",ln:18})}},play:function(o){this.videoId=o;var t=this.container,e=this,i=this.player=new n(t,{src:a.PANO_AERIAL_VIDEO_SERVER_URL+o+".mp4"});document.body.appendChild(t),i.on("close",function(){e.dispatchEvent("dispose")}),i.on("share",function(o,t){e.dispatchEvent("share_video",{container:t[0],sharePanelClassName:"video-share-panel"})})},dispose:function(){document.body.removeChild(this.container),this.videoId=null},onShareClose:function(){this.player.onShareClose()},getShareParam:function(){return this.videoId},getSupportEvents:function(){return["share_video","dispose"]}});e.exports=p});