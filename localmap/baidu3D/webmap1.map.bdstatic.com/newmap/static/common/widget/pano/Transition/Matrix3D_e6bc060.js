define("common:widget/pano/Transition/Matrix3D.js",function(){var t=Math.PI/180,e=Array.prototype.slice,s=window.Float32Array?!0:!1,n=function(t,e,n,i,r,a,l,h,o,m,p,c,u,d,f,y){if(this.elements=s?new Float32Array(16):[],0===arguments.length)this.identity();else{var v=this.elements;v[0]=void 0!==t?t:1,v[4]=e||0,v[8]=n||0,v[12]=i||0,v[1]=r||0,v[5]=void 0!==a?a:1,v[9]=l||0,v[13]=h||0,v[2]=o||0,v[6]=m||0,v[10]=void 0!==p?p:1,v[14]=c||0,v[3]=u||0,v[7]=d||0,v[11]=f||0,v[15]=void 0!==y?y:1}};return n.prototype={set:function(t,e,s,n,i,r,a,l,h,o,m,p,c,u,d,f){var y=this.elements;return y[0]=t,y[4]=e,y[8]=s,y[12]=n,y[1]=i,y[5]=r,y[9]=a,y[13]=l,y[2]=h,y[6]=o,y[10]=m,y[14]=p,y[3]=c,y[7]=u,y[11]=d,y[15]=f,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},append:function(t){return this.multiplyMatrices(this,t)},multiplyMatrices:function(t,e){var s=t.elements,n=e.elements,i=this.elements,r=s[0],a=s[4],l=s[8],h=s[12],o=s[1],m=s[5],p=s[9],c=s[13],u=s[2],d=s[6],f=s[10],y=s[14],v=s[3],M=s[7],g=s[11],w=s[15],x=n[0],T=n[4],j=n[8],A=n[12],X=n[1],Y=n[5],Z=n[9],b=n[13],F=n[2],k=n[6],z=n[10],D=n[14],I=n[3],P=n[7],q=n[11],B=n[15];return i[0]=r*x+a*X+l*F+h*I,i[4]=r*T+a*Y+l*k+h*P,i[8]=r*j+a*Z+l*z+h*q,i[12]=r*A+a*b+l*D+h*B,i[1]=o*x+m*X+p*F+c*I,i[5]=o*T+m*Y+p*k+c*P,i[9]=o*j+m*Z+p*z+c*q,i[13]=o*A+m*b+p*D+c*B,i[2]=u*x+d*X+f*F+y*I,i[6]=u*T+d*Y+f*k+y*P,i[10]=u*j+d*Z+f*z+y*q,i[14]=u*A+d*b+f*D+y*B,i[3]=v*x+M*X+g*F+w*I,i[7]=v*T+M*Y+g*k+w*P,i[11]=v*j+M*Z+g*z+w*q,i[15]=v*A+M*b+g*D+w*B,this},appendTransform:function(e,s,i,r,a,l,h,o,m,p,c,u,d){if(1===arguments.length&&"object"==typeof arguments[0]){var f=arguments[0];e=f.perspective||0,s=f.x||0,i=f.y||0,r=f.z||0,a=f.scaleX||0,l=f.scaleY||0,h=f.scaleZ||0,o=f.rotateX||0,m=f.rotateY||0,p=f.rotateZ||0,c=f.regX||0,u=f.regY||0,d=f.regZ||0}var y=o*t,v=Math.cos(y),M=Math.sin(y),g=m*t,w=Math.cos(g),x=Math.sin(g),T=p*t,j=Math.cos(T),A=Math.sin(T);return this.append(new n(w,0,x,s,0,1,0,i,-x,0,w,r,x/e,0,-w/e,(e-r)/e)),this.append(new n(1,0,0,0,0,v,M,0,0,-M,v,0,0,M/e,-v/e,1)),this.append(new n(j*a,A*l,0,0,-A*a,j*l,0,0,0,0,1*h,0,0,0,-1/e,1)),(c||u||d)&&(this.elements[12]-=c*this.elements[0]+u*this.elements[4]+d*this.elements[8],this.elements[13]-=c*this.elements[1]+u*this.elements[5]+d*this.elements[9],this.elements[14]-=c*this.elements[2]+u*this.elements[6]+d*this.elements[10]),this},applyMatrix:function(t){var s=e.call(this.elements).join(",");t.style.msTransform="matrix3d("+s+")",t.style.webkitTransform="matrix3d("+s+")",t.style.transform="matrix3d("+s+")"}},n});