define("common:widget/pano/PhotoTour/PhotoTourShare/PanoShareUtil.js",function(e,t,n){var o=e("common:widget/ui/config/config.js"),i=o.urlConfig,a={SHARE_PROC_URL:"http://j.map.baidu.com/",getShareKeyList:function(){return{tsina:{title:"分享到新浪微博",code:1307,cbkcode:1317},tqq:{title:"分享到腾讯微博",code:1308,cbkcode:1318},qzone:{title:"分享到QQ空间",code:1306,cbkcode:1316},renren:{title:"分享到人人网",code:1309,cbkcode:1319},baidu:{title:"分享到百度搜藏",code:1310,cbkcode:1320},kaixin001:{title:"分享到开心网",code:1311,cbkcode:1321},hi:{title:"分享到百度空间",code:1312,cbkcode:1322},douban:{title:"分享到豆瓣网",code:1313,cbkcode:1323},tsohu:{title:"分享到搜狐微博",code:1314,cbkcode:1324},msn:{title:"分享到Myspace",code:1315,cbkcode:1325},fx:{title:"分享到飞信",code:1326,cbkcode:1327}}},getLink:function(e,t){var n=[];for(var o in e)null!=e[o]&&n.push(o+"="+e[o]);var i="http://map.baidu.com/?newmap=1&shareurl=1&"+n.join("&"),a=this.SHARE_PROC_URL+"?url="+encodeURIComponent(i)+"&web=true",r=!1;T.jsonp(a,function(e){r=!0,t(e&&e.url||i)}),setTimeout(function(){0==r&&t(i)},3e3)},creatShare:function(e,t){var n=this,o=this.getShareKeyList(),i=['<div id="pano_bdshare" class="bds_tools"><span class="bds_more">分享到：</span>'];for(var a in o){var r=o[a].title;i.push('<a _key="'+a+'" class="bds_'+a+'" title="'+r+'"></a>')}i.push('</div><span class="bds_btn_arr" id="pano_bds_btn_arr" title="更多网站"></span>'),e.innerHTML=i.join("");{var c=T.G("pano_bdshare"),d=T.G("pano_bds_btn_arr");c.getElementsByTagName("a")}d.onclick=function(){var e=178,t=120,o=15,i=0;!function a(){o>i&&(i++,c.style.width=Math.ceil(n._tween(i,e,t,o))+"px",setTimeout(a,10))}(),d.style.display="none"},T.on(c,"click",function(e){var o=e.target||e.srcElement,i=o.getAttribute("_key");o&&i&&n._openLink(window.open("about:blank"),i,t)})},_tween:function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},_openLink:function(e,t,n){if(e){var o=n(),i=this._getShareInfo(o.roadName,o.link),a=i.text,r=(i.point,o.link+"#bshare-"+t);"fx"==t&&(r=r);var c,d="";("qzone"==t||"tsohu"==t)&&(c="../../../../../../../../map.baidu.com/image/logo-map.png"/*tpa=http://map.baidu.com/image/logo-map.png*/),c="../../../../../../../../map.baidu.com/fwmap/upload/r/image/2014-09-02/8f68908c1c4c0b824b8df2def4ba1cf8.jpg"/*tpa=http://map.baidu.com/fwmap/upload/r/image/2014-09-02/8f68908c1c4c0b824b8df2def4ba1cf8.jpg*/,d=a;var s={to:t,url:r,pic:c,title:a,type:"text",desc:d,comment:" ",key:""};"tsina"==t&&(s.key="3694297746"),"tqq"==t&&(s.key="801199301");var u="http://share.baidu.com/s?"+this._jsonToQuery(s,encodeURIComponent);"renren"==t&&(s={resourceUrl:r,pic:c,title:a,description:d,charset:"UTF-8"},u="http://widget.renren.com/dialog/share?"+this._jsonToQuery(s,encodeURIComponent));try{e.location.href=u,e.focus()}catch(p){}}},_getShareInfo:function(e,t){{var n=e||"",o="【百度全景-照片游】";this.cinfo}return{text:n+" "+t+" "+o}},_jsonToQuery:function(e,t){var n=[];t=t||function(e){return e};for(var o in e){var i=e[o];""!=i&&null!=i&&"undefined"!=typeof i&&n.push(o+"="+t(i))}return n.join("&")},getPanoShare3DImageUrl:function(e){var t=i.PANO_URL+"?qt=share",n={panoid:e.panoId,heading:e.panoHeading,pitch:e.panoPitch,fovy:75,width:460,height:250,watermark:"baidumap",quality:80};for(var o in n)t=t+"&"+o+"="+n[o];return t}};n.exports=a});