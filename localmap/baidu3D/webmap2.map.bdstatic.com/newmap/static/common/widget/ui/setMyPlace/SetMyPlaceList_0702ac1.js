define("common:widget/ui/setMyPlace/SetMyPlaceList.js",function(t,i,e){var s=t("common:widget/ui/setMyPlace/SetMyPlaceStorer.js"),a='<tr class="smp_sug_item" data-uid="#uid#" data-from="#from#" ><td class="td_note">#word#</td><td class="td_action"><a href="javascript:void(0)" class="edit_place"  data-uid="#uid#" >修改</a><a href="javascript:void(0)" class="remv_place"  data-uid="#uid#"  data-word="#word#" >删除</a></td></tr>',n='<tr><td class="td_note defaultNote">#word#</td><td class="td_action"><a href="javascript:void(0)" class="add_place" data-word="#word#" >设置</a></td></tr>',o='<tr class="nonSupNote"><td class="td_note">#word#</td><td class="td_action"><a href="javascript:void(0)">设置</a></td></tr>',d={container:null,display:!1,init:function(t){var i=this,e=T.dom.create("div",{"class":"smp_sug_wrap"});this.container=e,document.body.appendChild(e),T.on(document.body,"click",function(){i.hide()}),map.addEventListener("mousedown",function(){i.hide()}),this.open(t)},open:function(t){this.container?this.toggle(t):this.init(t)},toggle:function(t){this.display&&this.display==t?this.hide():(this.show(t),this.update(t))},show:function(t){var i=this;this.container.style.display="block",this.display=t,map.infoWindow&&(T.on(map.infoWindow.contentMain,"click",function(){i.hide()}),T.on(map.infoWindow.titleDiv,"click",function(){i.hide()}))},hide:function(){this.container&&(this.container.style.display="none",this.display=!1)},update:function(t){this.setContent({from:t}),this.setPosAndSize(t)},setPosAndSize:function(t){var i=T.g(t+"Span"),e=i?i:T.g(t).parentNode,s=T.g("smp_sug_table"),a=T.dom.getPosition(e),n=this.container,o=e.clientWidth,d=e.offsetHeight;if(("iw_esn"==t||"iw_ssn"==t)&&(o-=2),o>=s.offsetWidth+2&&(s.style.width=o+"px"),T.browser.ie<=6){n.style.width="100%";var r=s.offsetWidth;n.style.width=r+"px"}n.style.top="PoiSearch"==t?a.top+d-1+"px":"onway_1"==t?a.top+d-1+"px":a.top+d+"px",n.style.left=a.left+"px"},setContent:function(t){t=t||{};var i=t.from||"",e=['<table id="smp_sug_table" class="smp_sug_table" cellspacing="0" cellpadding="1">'];if(!T.swf.version){var a="(请安装flash插件)";return("iw_esn"==i||"iw_ssn"==i)&&(a=""),e.push(this.getItem({note:"我的家"},"nonsup",i)),e.push('</table><div id="smp_table_exts" class="exts oversize"><a href="javascript:void(0)">设置常用地点</a>'+a+"</div>"),void(this.container.innerHTML=e.join(""))}var n=s.getAll(),o=this.getExtHtml(n,i);if(n&&0!=n.length)for(var d=0,r=n.length;r>d;d++)e.push(this.getItem(n[d],"normal",i));else e.push(this.getItem({note:"我的家"},"default",i));e.push("</table>"+o),this.container.innerHTML=e.join("")},getExtHtml:function(t,i){var e='<div id="smp_table_exts" class="exts"><a class="add_place_btn" href="javascript:void(0)" data-from="'+i+'" >设置常用地点</a></div>';if(t&&0!=t.length){if(t.length>=4){var s="(最多设置4个常用地点)";("iw_esn"==i||"iw_ssn"==i)&&(s=""),e='<div id="smp_table_exts" class="exts oversize"><a href="javascript:void(0)">设置常用地点</a>'+s+"</div>"}}else{var s="";("iw_esn"==i||"iw_ssn"==i)&&(s="");var e='<div id="smp_table_exts" class="exts"><a  class="add_place_btn" href="javascript:void(0)" data-from="'+i+'">设置常用地点</a><span style="color:#B3B3B3">'+s+"</span></div>"}return e},getItem:function(t,i,e){var s="";switch(i){case"normal":s=a;break;case"default":s=n;break;case"nonsup":s=o}var d=s.replace(/#word#/gi,t.note).replace(/#uid#/gi,t.uid).replace(/#from#/gi,e);return d}};e.exports=d});