define("common:widget/ui/PanoInteract/PanoInteract.js",function(t,n,a){var o=window.Pano=window.Pano||{},e=t("common:widget/ui/PanoramaSwfUtil/PanoramaSwfUtil.js");o.PanoInteract=function(t){function n(){var t=e.getSwf("PanoramaFlash");return t||{}}var a={cityName:"",cityCode:1,isExitIndoorPano:!0,setPano:function(t,a){if(t){this.panoType=a.panoType,this.isExitIndoorPano===!1&&"street"===a.panoType&&this.exitIndoorPano(a);var o=n();o.set&&(a.id=t,o.set("panoOptions",a))}},setPov:function(t){try{var a=n();a.set&&a.set("pov",t)}catch(o){}},setSize:function(t){try{var a=n();if(a.set){var o=t.width,e=t.height;a.width=o,a.height=e,a.set("size",{width:o,height:e})}}catch(i){}},setRoutParams:function(t){try{var a=n();a.set&&a.set("routParams",t)}catch(o){}},zoom:function(t){var a=n(),o=0;a.get&&(o=a.get("zoom"),t>0?a.set("zoom",o+1):a.set("zoom",o-1))},switchPano:function(t){try{var a=n();a.set&&a.set("indoorPano",t)}catch(o){}},closePano:function(){var t=n();this.isExitIndoorPano===!1&&this.exitIndoorPano(null);try{t&&t.doAction&&t.doAction("closePano")}catch(a){}},addFlashMarkers:function(t){try{var a=n();a.doAction&&a.doAction("addMarkers",t)}catch(o){}},clearMarkers:function(){try{var t=n();t.doAction&&t.doAction("clearMarkers")}catch(a){}},getPanoramaPropertyFromFlash:function(t){try{var a=n();if(a.get)return a.get(t)}catch(o){return""}},flashLoaded:function(){this.dispatchEvent("onload",{loaded:!0})},flashUnLoaded:function(){this.dispatchEvent("onUnLoad",{unloaded:!0})},flashError:function(t){this.dispatchEvent("onError",{errorType:t})},setPanoView:function(t){this.isExitIndoorPano===!1&&"street"===t.panoType&&this.exitIndoorPano(t),"object"!=typeof t||isNaN(t.x)||isNaN(t.y)||this.dispatchEvent("onPanoChanged",{pano:t})},setPanoPov:function(t){if(t&&!isNaN(t.heading)){var n=parseInt(t.heading),a=parseInt(t.pitch);this.dispatchEvent("onPovChanged",{heading:n,pitch:a})}},clickPanoPOI:function(t){t&&"object"==typeof t&&this.dispatchEvent("onPOIClick",{data:t})},enterIndoorPano:function(t){this.isExitIndoorPano=!1,t&&"object"==typeof t&&this.dispatchEvent("onEnterIndoor",{data:t})},exitIndoorPano:function(t){this.isExitIndoorPano=!0,"object"==typeof t&&this.dispatchEvent("onExitIndoor",{data:t})},floorChange:function(t){t&&"object"==typeof t&&this.dispatchEvent("onFloorChanged",{data:t})},switchIndoorPano:function(t){t&&"object"==typeof t&&this.dispatchEvent("onIndoorPanoChanged",{data:t})},sendPanoStat:function(t){"function"!=typeof addStat||isNaN(t)||addStat(STAT_CODE.STAT_STREETVIEW,{type:t,catalog:"flash"})},sendFeedback:function(n){var a="http://"+location.host+"/pano/feedback/index.html?"+n;t.open(a,"newwindow")},getCityName:function(){return this.cityName}};return a=baidu.lang.createSingle(a)}(window),o.PanoInteract.dispatchFlashEvent=function(t,n){switch(t){case"pov_changed":o.PanoInteract.setPanoPov(n);break;case"sdata_loaded":o.PanoInteract.setPanoView(n);break;case"pano_poi_click":o.PanoInteract.clickPanoPOI(n);break;case"indoor_enter":o.PanoInteract.enterIndoorPano(n);break;case"indoor_id_changed":o.PanoInteract.switchIndoorPano(n);break;case"floor_changed":o.PanoInteract.floorChange(n);break;case"indoor_exit":o.PanoInteract.exitIndoorPano(n);break;case"interface_ready":o.PanoInteract.flashLoaded(n);break;case"pano_error":o.PanoInteract.flashError(n);break;case"street_drag":o.PanoInteract.sendPanoStat(6);break;case"indoor_drag":o.PanoInteract.sendPanoStat(7);break;case"order_click":o.PanoInteract.sendPanoStat(24);break;case"mode_change":o.PanoInteract.sendPanoStat(26);break;case"plane_click":o.PanoInteract.sendPanoStat(27)}},o.PanoInteract.doAction=function(t,n){switch(t){case"openFeedbackPage":o.PanoInteract.sendFeedback(n)}},o.PanoInteract.get=function(t){var n=null;switch(t){case"cityName":n=o.PanoInteract.getCityName()}return n},a.exports=o.PanoInteract=o.PanoInteract});