define("common:widget/com/MapComponent.js",function(e,t,o){function i(e){e=e||{},e.cinfo=e.cinfo||{},this.dom=e.dom=T("#MapInfo"),this.modelQuery=e.url,this.isMainRequest="no"===e.isMainRequest?!1:!0,this.startCity={name:c.cityName,code:c.cityCode},(null==e.cinfo.city||null==e.cinfo.city.name)&&(e.cinfo.startCity={name:this.startCity.name,code:this.startCity.code}),map.enableLoadTiles=!0,n.call(this,e);var t=!0;"record"in e&&(t=e.record),t&&r.record(e),this.isMainRequest&&map.clearOverlays(),map.fullScreenMode&&e.cinfo&&e.cinfo.exitLargeMapMode&&window.fullScreenCtrl&&window.fullScreenCtrl.exitFull(!0),this.isMainRequest&&this.json&&this.json.result&&!m.active&&(11==this.json.result.type||1==this.json.result.type||36==this.json.result.type||2==this.json.result.type)?(c.enableMapMove=!1,window.mapMoveTimer&&clearTimeout(window.mapMoveTimer),window.mapMoveTimer=setTimeout(function(){c.enableMapMove=!0},4e3)):this.isMainRequest&&(window.mapMoveTimer&&clearTimeout(window.mapMoveTimer),c.enableMapMove=!0),window.currentComponent=this}var n=e("common:widget/com/BaseComponent.js"),s=e("common:widget/ui/searchData/searchData.js"),a=e("common:widget/ui/config/config.js"),r=e("common:widget/ui/history/history.js"),c=a.modelConfig,m=e("common:widget/ui/Weather/Weather.js");T.inherits(i,n,"MapComponent"),T.extend(i.prototype,{statusChange:function(e,t){this.modelQuery=e,s.fetch(e,t)},render:function(){try{return!0}catch(e){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/com/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/com/MapComponent.js",ln:107})}},initialize:function(){try{}catch(e){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/com/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/com/MapComponent.js",ln:112})}},unload:function(){this.removeFromManager(),this.destroy&&this.destroy(),this.dom.html(""),n.prototype.unload.apply(this,arguments)}}),o.exports=i});