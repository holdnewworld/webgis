define("common:widget/pano/module/PanoOverviewModule/CatalogComponent/CatalogComponent.js",function(t,e,i){var o=t("common:widget/ui/Animation/Animation.js"),n=t("common:widget/pano/component/TableView/TableView.js"),a=t("common:widget/pano/base/util.js");t.loadCss({content:".catalog-container{position:absolute;top:-23px;left:-2px;height:25px;background-color:#252525;filter:alpha(opacity=90);background-color:rgba(37,37,37,.9)}#pano-floor-wrapper .catalog-container{top:-2px}.catalog-text{line-height:25px;color:#666;padding:0 12px;text-align:center;text-decoration:none;cursor:pointer;border-left:1px solid #3c3e42;border-right:1px solid #3c3e42}.catalog-container .selected-item .catalog-text,.catalog-text:hover{color:#fff}.catalog-container .tableview-li{height:25px}.catalog-text.first{border-left:0}.catalog-text.last{border-right:0}.catalog-container .tableview-selected-border{display:none}"});var l='<a i="{$i}" class="catalog-text {$class}" href="javascript:void(0);">{$text}</a>',r=function(t,e){var i=e.has2DMap(),o=e.hasPlanMap(),r=e.getCatalogList(),s=this.container=document.createElement("div");t.appendChild(s),s.className="catalog-container",this._index=0,this._data=e;var c=this.tableView=new n(s,{viewWidth:304,viewHeight:25,isHorizontal:!0,isFullSize:i||o?!1:!0,margin:"0"});a.each(r,function(t,e){var i=l.replace("{$i}",e).replace("{$text}",t.label).replace("{$class}",0==e?"first":e==r.length-1?"last":"");c.addItemContent(i)});var d=this;c.addEventListener("click",function(t){t.index!==d._index&&d.dispatchEvent("item_click",{index:t.index})}),c.resize(),baidu.event.on(s,"mouseleave",function(t){for(var e=t.relatedTarget;e;){if("pano-overview-wrapper"==e.id)return;if(e==document.body)break;e=e.parentNode}d.dispatchEvent("fold_overview")})};baidu.lang.inherits(r,baidu.lang.Class),T.object.extend(r.prototype,{setSelectIndex:function(t){this._index=t,this.tableView.setSelectIndex(this._index)},getSelectIndex:function(){return this._index},getData:function(){return this._data},destroy:function(){this._data=null,this._floorIndex=null,this.container.parentNode.removeChild(this.container),this.container=null,this.tableView.destroy()},setPosition:function(t,e,i){var n=this.container;if(i){var a=this._position.left,l=this._position.top,r=t-a,s=e-l,c=new o.Animation,d={duration:400,fps:40,delay:o.Animation.INFINITE,transition:o.Transitions.easeOutQuad,finish:function(){},render:function(t){try{n.style.left=a+r*t+"px",n.style.top=l+s*t+"px"}catch(e){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoOverviewModule/CatalogComponent/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/pano/module/PanoOverviewModule/CatalogComponent/CatalogComponent.js",ln:109})}}};c.build(d),c.start()}else n.style.left=t+"px",n.style.top=e+"px";this._position={left:t,top:e}}}),i.exports=r});