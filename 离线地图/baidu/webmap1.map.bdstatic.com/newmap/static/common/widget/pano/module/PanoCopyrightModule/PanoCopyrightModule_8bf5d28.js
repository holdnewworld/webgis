define("common:widget/pano/module/PanoCopyrightModule/PanoCopyrightModule.js",function(require,exports,module){var ModuleClass=require("common:widget/pano/base/ModuleClass.js"),service=require("common:widget/pano/base/service.js");require.loadCss({content:"#pano-copyright{margin-right:30px;font-weight:900}#pano-copyright span{margin-left:7px}#pano-copyright a{text-decoration:none;color:#797979}#pano-copyright a:hover{color:#3af}#pano-tips .transparent-msk{top:0;left:0;height:20px;opacity:0;filter:alpha(opacity=0)}"});var COPYRIGHT_TPL=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div id="pano-copyright">    <span>',"undefined"==typeof panoData.panoCopyright.roadName?"":panoData.panoCopyright.roadName,'</span>    <span>|</span>    <span><a target="_blank" id="pano-feedback" href="../../../../../../../../map.baidu.com/pano/feedback/index.html-panoid=',.htm"/*tpa=http://map.baidu.com/pano/feedback/index.html?panoid=',*/undefined"==typeof panoData.panoId?"":panoData.panoId,"&pitch=","undefined"==typeof panoData.panoPitch?"":panoData.panoPitch,"&roll=","undefined"==typeof panoData.panoHeading?"":panoData.panoHeading,'" style="display:inline;">问题反馈</a></span>    <span>|</span>    '),panoData.panoCopyright.provider&&panoData.panoCopyright.provider.name&&(_template_fun_array.push("        <span>Data ©</span>        "http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoCopyrightModule/),panoData.panoCopyright.provider.url?_template_fun_array.push('        <span><a target="_blank" href="',"undefined"http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoCopyrightModule/==typeof panoData.panoCopyright.provider.url?"":panoData.panoCopyright.provider.url,'" style="display:inline;">',"undefined"http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoCopyrightModule/==typeof panoData.panoCopyright.provider.name?"":panoData.panoCopyright.provider.name,"</a></span>        "):_template_fun_array.push("        <span>","undefined"http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoCopyrightModule/==typeof panoData.panoCopyright.provider.name?"":panoData.panoCopyright.provider.name,"</span>        "),_template_fun_array.push("    ")),_template_fun_array.push('    <span class="upload-pano"><a id="pano-upload-link" class="upload" target="_blank" href="http://pai.baidu.com/">上传全景图片</a></span>    <span>|</span>    <span>',"undefined"==typeof panoData.panoCopyright.admission?"":panoData.panoCopyright.admission,"</span>        <span>拍摄日期：","undefined"==typeof panoData.panoCopyright.photoDate?"":panoData.panoCopyright.photoDate,'</span></div><div id="pano-cprt-msk" class="transparent-msk"></div>'),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],PanoCopyrightModule=ModuleClass.extend("PanoCopyrightModule",{constructor:function(){},initialize:function(){try{var a=service.getCopyRightData();this._copyRightDataDefferd=a,this.roadName=""}catch(n){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoCopyrightModule/exception.fire","catch",{msg:n.message||n.description,path:"common:widget/pano/module/PanoCopyrightModule/PanoCopyrightModule.js",ln:23})}},render:function(a,n){try{this.roadName=n.panoCopyright.roadName;var o=this;this._copyRightDataDefferd.then(function(e){var t=n.panoCopyright.dataProviderIndex,p=o.getProviderFromIndex(t,e);!T.trim(p.name)&&n.panoCopyright.username&&n.panoCopyright.userid&&(p.url="http://pai.baidu.com/?qt=lensman&uid="+n.panoCopyright.userid+"&type=lensman"),n.panoCopyright.provider={name:T.trim(p.name+n.panoCopyright.username),url:T.trim(p.url)},11==t&&(n.panoCopyright.admission="");var r=COPYRIGHT_TPL({panoData:n});a.innerHTML=r,T("#pano-funcarea").hasClass("pano_funcarea_hide")&&T("#pano-cprt-msk").css("opacity","0.9"),T.on(T.g("pano-feedback"),"click",function(){addStat(STAT_CODE.STAT_PANORAMA,{item:"pano-feedback-click"})}),T.on(T.g("pano-upload-link"),"click",function(){addStat(STAT_CODE.STAT_PANORAMA,{item:"pano-ugc-entrance-click"})})})}catch(e){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/pano/module/PanoCopyrightModule/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/pano/module/PanoCopyrightModule/PanoCopyrightModule.js",ln:70})}},getProviderFromIndex:function(a,n){for(var o=n.length-1;o>=0;o--)if(n[o].id==a)return n[o];return{name:"",url:"",id:""}},getCurrentRoad:function(){return this.roadName}});module.exports=PanoCopyrightModule});