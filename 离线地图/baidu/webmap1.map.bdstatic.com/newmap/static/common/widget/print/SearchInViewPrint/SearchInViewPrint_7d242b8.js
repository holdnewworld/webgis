define("common:widget/print/SearchInViewPrint/SearchInViewPrint.js",function(e,t,n){function l(){map.clearOverlays=function(){},this.txtPanel=a.JS("txtPanel"),this.tableBox=this.txtPanel.getElementsByTagName("table")[0],this.html=[],this.oFragment=document.createDocumentFragment(),this.ulE=a.JS("ulE"),this.searchValue=a.JS("searchValue"),this.PoiSearchV=a.JS("PoiSearch").value,this.ulEAllA=this.ulE.getElementsByTagName("a"),T.lang.Class.call(this)}var i=(e("common:widget/ui/mapUtil/mapUtil.js"),e("common:widget/ui/config/config.js")),a=(i.mapConfig,e("common:widget/ui/constant/Constant.js"),e("common:widget/print/printUtil/printUtil.js"));T.extend(l.prototype,{initialize:function(e){try{var t=e.json,n=t.result.wd,l=this;if(setTimeout(function(){l.newDom();for(var e=0,t=l.ulEAllA.length;t>e;e++)l.ulEAllA[e].onclick=null;for(var n=a.JS.getElementByClassName("icon","ulE"),i=0,o=n.length;o>i;i++)n[i].onclick=null},500),map.removeContextMenu(window.contextMenu),this.searchValue.innerHTML="<li><strong>"+n+"</strong></li>",GRControll.isGRequest){map.disableDragging(),map.disableScrollWheelZoom(),map.disableDoubleClickZoom(),map.removeControl(window.stdMapCtrl);for(var i=0,o=l.ulEAllA.length;o>i;i++)l.ulEAllA[i].onclick=null;for(var r=a.JS.getElementByClassName("icon","ulE"),s=0,m=r.length;m>s;s++)r[s].onclick=null}a.JS("MapInfo").parentNode.removeChild(a.JS("MapInfo")),a.JS("busList").style.display="none",map.removeContextMenu(window.contextMenu),map.disableScrollWheelZoom(),this.appendImg()}catch(c){"undefined"!=typeof alog&&alog("http://webmap1.map.bdstatic.com/newmap/static/common/widget/print/SearchInViewPrint/exception.fire","catch",{msg:c.message||c.description,path:"common:widget/print/SearchInViewPrint/SearchInViewPrint.js",ln:55})}},newDom:function(){for(var e,t=0,n=this.tableBox.rows;e=n[t];t++){for(var l,i=[],a=0,o=e.cells;l=o[a];a++)l.innerHTML&&(l.innerHTML=l.innerHTML.replace(/focus/,"")),i.push(l.innerHTML);this.html.push(i)}for(var r=0,s=this.html.length;s>r;r++){var m=document.createElement("li");0!=this.html[r].join("").length&&(m.innerHTML=this.html[r].join(""),this.oFragment.appendChild(m))}this.ulE.appendChild(this.oFragment)},appendImg:function(){var e=a.findAlphaImageLoader("div",a.JS("MapHolder"),"markers.png"/*tpa=http://webmap1.map.bdstatic.com/newmap/static/common/widget/print/SearchInViewPrint/markers.png*/),t=document.createElement("img");if(t.className="ie6_print",t.src="../../../../../../../webmap2.map.bdstatic.com/newmap/static/common/images/ie6_markers_a3e074d.png"/*tpa=http://webmap2.map.bdstatic.com/newmap/static/common/images/ie6_markers_a3e074d.png*/,e.length)for(var n=0,l=e.length;l>n;n++){var i=e[n],o=t.cloneNode(!0);i.className="noprint",o.style.top=i.style.top,o.style.left=i.style.left,i.parentNode.appendChild(o)}}}),n.exports=l});