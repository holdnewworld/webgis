define("common:widget/ui/PanoService/PanoService.js",function(t,e,n){var o=t("common:widget/ui/config/config.js"),r=o.mapVersion,i=o.urlConfig,a=function(){var t=r.UDT_VERSION||"20130819",e=i.PANO_URL+"?udt="+t+"&",n={getStreetViewByUid:function(t,n,o){if(t&&"function"==typeof n){o=o||window;var r=e+baidu.url.jsonToQuery({qt:"poi",uid:t,t:(new Date).getTime()});baidu.jsonp(r,function(t){if(t&&t.result&&0==t.result.error&&t.content&&t.content.length>0){var e=t.content[0];n.call(o,{content:e.poiinfo,error:0})}else n.call(o,{error:1})},{cbtype:"fn"})}},getStreetBriefByLocationMove:function(t,n,o){if(t.point&&"function"==typeof n){o=o||window;var r=t.point||{},i=t.level||15,a=t.mode||"day",c=e+baidu.url.jsonToQuery({qt:"qsdata",x:r.lng||r.x,y:r.lat||r.y,l:i,action:0,time:a,t:(new Date).getTime()});baidu.jsonp(c,function(r){if(r&&r.result&&0==r.result.error&&r.content){var i=r.content,a=i.id,c=parseFloat(i.x/100),l=parseFloat(i.y/100),u=new BMap.Point(c,l),f=e+baidu.url.jsonToQuery({qt:"pdata",sid:a,pos:"0_0",z:"0"});n.call(o,{type:"brief",content:{id:a,rname:i.RoadName||"",panoImg:f,point:u},error:0,from:t.from||""})}else n.call(o,{error:1})},{cbtype:"fn"})}},getStreetBriefByLocation:function(t,n,o){if(t.point&&"function"==typeof n){o=o||window;var r=t.point||{},i=t.level||15,a=t.mode||"day",c=e+baidu.url.jsonToQuery({qt:"qsdata",x:r.lng||r.x,y:r.lat||r.y,l:i,action:0,time:a,t:(new Date).getTime()});baidu.jsonp(c,function(e){if(e&&e.result&&0==e.result.error&&e.content){var r=e.content,i=r.id,a=parseFloat(r.x/100),c=parseFloat(r.y/100),l=new BMap.Point(a,c);n.call(o,{type:"brief",content:{id:i,point:l},error:0,from:t.from||""})}else n.call(o,{error:1})},{cbtype:"fn"})}},getStreetViewByPID:function(t,n,o){if("function"==typeof n){o=o||window;var r=e+baidu.url.jsonToQuery({qt:"sdata",sid:t,t:(new Date).getTime()});baidu.jsonp(r,function(t){if(t&&0==t.result.error&&t.content&&t.content.length>0){var e=t.content[0],r=e.ID,i=parseFloat(e.X/100),a=parseFloat(e.Y/100),c=new BMap.Point(i,a);"inter"==e.Type&&(r=e.Inters[0].IID),n.call(o,{content:{panoId:r,point:c},error:0})}else n.call(o,{error:1})},{cbtype:"fn"})}},checkBounds:function(t,n,o){if("function"==typeof n){o=o||window,t=t||map.getBounds();var r=e+baidu.url.jsonToQuery({qt:"qmdata",bx:t.getMinX(),by:t.getMinY(),tx:t.getMaxX(),ty:t.getMaxY(),t:(new Date).getTime()});baidu.jsonp(r,function(t){if(t&&0==t.result.error&&t.content){var e=t.content.ptcnt||0;n.call(o,{content:{ptcnt:e},error:0})}else n.call(o,{error:1})},{cbtype:"fn"})}}};return n}();n.exports=a});