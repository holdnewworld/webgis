define("common:widget/ui/NbSearch/NbSearch.js",function(e,o,n){var t=e("common:widget/ui/constant/Constant.js"),a=e("common:widget/ui/config/config.js"),i=(a.mapConfig,e("common:widget/ui/mapUtil/mapUtil.js")),m=function(){var o,n,a,m,r={};return r.show=function(e){function r(e){T.on(document,"onmousemove",p),T.on(document,"onmouseup",s);var o=e.clientX||e.x,n=map.pointToPixel(a.getPoint());f=o-n.x,g=!0}function p(e){var t=(e.clientX||e.x)-f,i=new BMap.Pixel(t,map.pointToPixel(a.getPoint()).y),r=Math.floor(map.getDistance(map.pixelToPoint(i),n.getPoint()));500>r?r=500:r>5e3?r=5e3:a.setPoint(map.pixelToPoint(i)),GRControll.GRCircleRadius=r,o.setRadius(r),m.setContent(GRControll.GRCircleRadius+"m")}function s(){g=!1,a&&a.iconDom&&(a.iconDom.children[0].style.left="0px"),T.un(document,"onmousemove",p),T.un(document,"onmouseup",s),i.setViewport([new BMap.Point(o.getBounds().minX,o.getBounds().minY),new BMap.Point(o.getBounds().maxX,o.getBounds().maxY)],-50)}this.loadCss(),o&&(map.removeOverlay(o),map.removeOverlay(n),map.removeOverlay(a),map.removeOverlay(m)),o=new BMap.Circle(e,GRControll.GRCircleRadius,{strokeColor:"#a3b1cc",fillColor:"#4673cc",strokeOpacity:.9,fillOpacity:.2,strokeWeight:1}),map.addOverlay(o);var c={offset:t.A_J_MARKER_OFFSET,imageOffset:new BMap.Size(-200,0),infoWindowOffset:t.A_J_MARKER_INFOWND_OFFSET},l=new BMap.Icon("../../../images/bgs_6dbfd12.gif"/*tpa=http://webmap1.map.bdstatic.com/newmap/static/common/images/bgs_6dbfd12.gif*/,t.A_J_MARKER_RED_SIZE,c);n=new BMap.Marker(e,{icon:l,baseZIndex:25e5});var d=o.getBounds();e=new BMap.Point(d.maxX,.5*(d.minY+d.maxY));var u=map.pointToPixel(e);a=new BMap.Marker(map.pixelToPoint(u),{icon:new BMap.Icon("../../../../../../../webmap0.map.bdstatic.com/newmap/static/common/images/nbsearch_366e590.png"/*tpa=http://webmap0.map.bdstatic.com/newmap/static/common/images/nbsearch_366e590.png*/,new BMap.Size(31,19),{offset:new BMap.Size(16,14),imageOffset:new BMap.Size(0,0),infoWindowOffset:t.A_J_MARKER_INFOWND_OFFSET}),baseZIndex:25e6}),a.addEventListener("mouseover",function(e){e.target.iconDom.children[0].style.left="-88px"}),a.addEventListener("mouseout",function(e){!g&&e.target.iconDom&&(e.target.iconDom.children[0].style.left="0px")}),m=new BMap.Label("a",{offset:new BMap.Size(30,0)}),m.setStyle({zIndex:20020,background:"url(http://webmap0.map.bdstatic.com/newmap/static/common/images/nbsearch_366e590.png) -31px 0",border:"none",height:"20px",color:"black",textIndent:"5px",textAlign:"center",zoom:1,width:"56px",lineHeight:"20px",padding:"0"}),m.setContent(GRControll.GRCircleRadius+"m"),a.setLabel(m),map.addOverlay(a),map.addOverlay(n),T(m.getDom()).attr("tid","nbHandleLabel");var f,g=!1;a.addEventListener("mousedown",r)},r.hide=function(){map.removeOverlay(o),map.removeOverlay(n),map.removeOverlay(a),map.removeOverlay(m)},r.loadCss=function(){var o=".nb_dis{float:right;margin-right:4px;display:block;*position:absolute;*right:80px}";e.loadCss({content:o,name:"NbSearch"})},r}();n.exports=m});