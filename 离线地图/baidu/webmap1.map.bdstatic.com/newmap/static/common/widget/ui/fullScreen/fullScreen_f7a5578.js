define("common:widget/ui/fullScreen/fullScreen.js",function(e,t,l){var i=e("common:widget/ui/util/util.js"),n=e("common:widget/ui/mapInfo/mapInfo.js"),o=e("common:widget/ui/history/history.js"),s=T.g("searchWrapper"),r=T.g("MapHolder"),a=T.g("tools"),u=T.g("MapInfoCon"),c=T.g("MapInfoNav"),g=T.g("MapInfoTab"),f=T.g("citytools"),d=T.g("shad_v"),p=T.g("tool_fullScrF"),y=T.g("tools_search"),m="",h=(T.g("tool_container"),350),S=T.g("StreetViewHolder"),w=T.g("tools-container"),v={isFullScreen:!1,isGoing:!1,timer:null,sideWidth:350,init:function(){var e=this;e.bindEvent()},toFull:function(t){var l=this;if(!l.isGoing){l.isGoing=!0,w.style.top="0px",T.G("MaptoDown_tip")&&baidu.dom.remove(T.G("MaptoDown_tip")),T.g("cityBottom")&&baidu.dom.hide(T.g("cityBottom"));var n=i.getClientSize().height,v=i.getClientSize().width;T.rc(T.g("tool_fullScr"),"span_focus"),T.rc(T.g("tool_fullScr"),"toolBtn--img--full"),T.ac(T.g("tool_fullScr"),"toolBtn--img--returnFull"),window.GRControll&&window.GRControll.setGRequestFlg(1e3),"none"!=T.G("form1").style.display&&(m=T.G("PoiSearch").value),T.G("ToolPoiSearch").value=m,f.style.left=0,s.style.display="none",u.style.left=-h+"px",c.style.left=-h+"px",g.style.display="none",d.style.left=0,a.style.paddingLeft=0,r.style.marginLeft=0,r.style.height=n+"px",y.style.display="",S.style.marginLeft=0,p.innerHTML="退出全屏",T.g("tool_fullScr").style.display="block",map.fullScreenMode=l.isFullScreen=!0;var x=map.getCenter();map.addEventListener("resize",function(){map.setCenter(x),map.removeEventListener("resize",arguments.callee)}),l.isGoing=!1,null==t&&o.record({url:"isfullScreen=true"}),this.dispatchEvent("onFullScreen",{action:"enter",size:{width:v,height:n,marginLeft:0}}),e.async("common:widget/ui/setDefCity/SetDefCity.js",function(e){e.hideCityTip()}),addStat("indextool.toolbar.fullscreen")}},exitFull:function(t){var l=this;if(!l.isGoing){l.isGoing=!0,w.style.top=T("#searchWrapper").outerHeight()+"px";var m=i.getClientSize().width,v=i.getClientSize().height-142+32,x=0,C=m;T.rc(T.g("tool_fullScr"),"span_focus"),T.rc(T.g("tool_fullScr"),"toolBtn--img--returnFull"),T.ac(T.g("tool_fullScr"),"toolBtn--img--full"),"open"==n.status&&(C-=h),window.GRControll&&window.GRControll.setGRequestFlg(1e3),y.style.display="none",s.style.display="",g.style.display="",T.g("cityBottom")&&baidu.dom.show(T.g("cityBottom")),"open"==n.status&&(m-=h,x+=h,u.style.left=0,c.style.left="1px",r.style.marginLeft=h+1+"px",f.style.left=h+"px",S.style.marginLeft=h+"px"),d.style.left=x+"px",a.style.paddingRight=x+"px",r.style.height=v+"px",p.innerHTML="全屏",map.fullScreenMode=l.isFullScreen=!1;var F=map.getCenter();map.addEventListener("resize",function(){map.setCenter(F),map.removeEventListener("resize",arguments.callee)}),l.isGoing=!1,null==t&&o.record({url:"isfullScreen=false"});var G="open"==n.status?h:0;this.dispatchEvent("onExitFull",{action:"exit",size:{width:m,height:v,marginLeft:G}}),e.async("common:widget/ui/setDefCity/SetDefCity.js",function(e){e.hideCityTip()}),addStat("indextool.toolbar.exitfullscreen")}},toggleFullScreen:function(){this.isFullScreen?this.exitFull():this.toFull()},bindEvent:function(){var e=this;T.on("tool_fullScr","click",function(){e.toggleFullScreen()}),T.on(document,"keydown",function(t){t=window.event||t,27==t.keyCode&&e.isFullScreen&&setTimeout(function(){e.exitFull()},100)})},fullScreenState:function(){return this.isFullScreen?!0:!1}};l.exports=v=baidu.lang.createSingle(v),window.fullScreenCtrl=v});