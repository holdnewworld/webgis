define("common:widget/ui/changeMap/ChangeMap.js",function(e,t,a){function o(e){e.addEventListener("zoomend",function(){d["3d_city"][p.cityCode]&&map.getZoom()>=12||(e.mapType!=BMAP_TYPE_DIMENSIONAL&&(map.currentCity="",map.cityCode=""),i.setMapCtrlWhenMoving(p.cityCode))});var t=0;e.addEventListener("maptypechange",function(a){function o(){e.removeEventListener("tilesloaded",o)}{var n=a.mapType,p=a.exMapType,d=window.currentComponent;d._className}m&&m.resetWidth(),i.setDataCopyRight(),n===BMAP_SATELLITE_MAP?(copyCtrl&&copyCtrl.addSateMapStyle(),scaleCtrl&&scaleCtrl.addSateMapStyle()):p===BMAP_SATELLITE_MAP&&(copyCtrl&&copyCtrl.removeSateMapStyle(),scaleCtrl&&scaleCtrl.removeSateMapStyle()),0==t&&(e.addEventListener("tilesloaded",o),t=1),"B_NORMAL_MAP"==n?addStat("basemap.maptypechange.normalmap"):"B_SATELLITE_MAP"==n?addStat("basemap.maptypechange.satellitetype"):"B_DIMENSIONAL_MAP"==n&&addStat("basemap.maptypechange.3dmap")})}var n=(e("common:widget/com/componentManager.js"),e("common:widget/ui/config/config.js")),i=e("common:widget/ui/indexUtil/IndexUtil.js"),m=(e("common:widget/ui/mapInfo/mapInfo.js"),e("common:widget/ui/Traffic/Traffic.js"),e("common:widget/ui/tools/tools.js")),p=n.modelConfig,d=n.mapConfig;a.exports=o});