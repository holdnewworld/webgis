define("common:widget/ui/Special/Special.js",function(a,n,e){var t=a("common:widget/ui/areaCfg/areaCfg.js"),i=a("common:widget/ui/config/config.js"),c=a("common:widget/com/componentManager.js"),i=a("common:widget/ui/config/config.js"),o=i.modelConfig,m=(i.mapConfig,{sectionDiscount:Math.floor((new Date-Date.parse("01/01/2012"))/864e5)+",+",data:{preferential:{title:"优惠券",maxTitle:"优惠券",wd:"餐饮",des:"提供北京市的餐饮类优惠券分布图","北京":"beijing"},tuan:{title:"团购",maxTitle:"团购",des:"提供北京市的美食、娱乐、生活服务、酒店旅游团购分布图",url:"http://www.nuomi.com/?cid=map_pc_icon",sup:0},subway:{title:"地铁",maxTitle:"地铁专题",spTitle:"#cityName#地铁路线图",des:"共有北京，上海，广州，深圳，香港、南京、成都、重庆、天津、沈阳、杭州、武汉、苏州、大连、长春、西安、昆明、佛山、哈尔滨、郑州、宁波、无锡等二十多个城市的地铁路线图",url:"http://"+window.location.host+"/subways/index.html?c=","北京":"beijing","上海":"shanghai","广州":"guangzhou","深圳":"shenzhen","香港特别行政区":"hongkong","南京":"nanjing","成都":"chengdu","重庆":"chongqing","天津":"tianjin","沈阳":"shenyang","杭州":"hangzhou","武汉":"wuhan","苏州":"suzhou","大连":"dalian","长春":"changchun","西安":"xian","昆明":"kunming","佛山":"foshan","哈尔滨":"harbin","郑州":"zhengzhou","杭州":"hangzhou","长沙":"changsha","宁波":"ningbo","无锡":"wuxi","台北":"taibei","高雄":"gaoxiong"},weather:{},gas:{},park:{},train:{}},cityDataList:[{name:"repast",cnName:"餐饮"},{name:"viewpoint",cnName:"景点"},{name:"bank",cnName:"银行"},{name:"fillingstation",cnName:"加油站"},{name:"hotelbar",cnName:"酒吧"},{name:"hospital",cnName:"医院"},{name:"school",cnName:"学校"},{name:"internet",cnName:"网吧"},{name:"carpark",cnName:"停车场"},{name:"market",cnName:"超市"},{name:"ktv",cnName:"KTV"},{name:"shopping",cnName:"购物"},{name:"bath",cnName:"洗浴"},{name:"beauty",cnName:"丽人"},{name:"atm",cnName:"ATM"},{name:"coffee",cnName:"咖啡厅"}],getHtml:function(a){a=a||{};var n=a.cityName||o.cityName,e=a.showDescript,i=a.liEvent||"",c=a.from,s="",l="",u=a.dataName;if(1&a.sup){{encodeURIComponent(n)}m.data.tuan.des="提供"+n+"的美食、娱乐、生活服务、酒店旅游团购分布图",m.data.tuan.url="http://www.nuomi.com/?cid=map_pc_icon",m.data.tuan.sup=1}else m.data.tuan.sup=0;n=n.replace(/市$/,"");var d=m.data[u],r="",p="",g=d.title,h=d.maxTitle,w="INDEX",f="",b=d.wd,y=Number(/^优惠券$/.test(g));if("box"==c&&(g=d.maxTitle,w="BOX"),d.url&&n){"weather"!=u&&d[n]&&(f=d[n]);var N=d.url+f,_="";if("subway"==u){var x=t[n]||131;N=N+"&ccode="+x,_="addStat('citylistbtn', null, {'da_trd':'地铁'});"}else"tuan"==u&&(_="addStat('citylistbtn', null, {'da_trd':'团购频道'});");p="onclick = \"window.open('"+N+"')\""}else p="onclick = \"Special.searchWord('"+(b?b:h)+"',{type:'"+u+"',codeStr:'"+w+"'"+(y?",discount:"+y:"")+'});return false;"';return e&&(l="<p>"+d.des+"</p>"),("weather"==u||"lunch"==u||d[n]||"tuan"==u&&m.data.tuan.sup)&&(s+="preferential"==u||"tuan"http://webmap2.map.bdstatic.com/newmap/static/common/widget/ui/Special/==u&&m.data.tuan.sup?"tuan"http://webmap2.map.bdstatic.com/newmap/static/common/widget/ui/Special/==u&&m.data.tuan.sup?"<li "+i+p+' class="city-tuan"><a ><img src="'+o.timg+'" width="48" height="49" /></a><a >团购频道</a></li>':"<li "+i+p+' class="li_'+u+'"><a >('+a.dataCount+")</a></li>":"<li"+i+' class="li_'+u+'"><a '+r+p+'><img src="../../../images/transparent.gif"/*tpa=http://webmap2.map.bdstatic.com/newmap/static/common/images/transparent.gif*/ class="'+u+'" /><b>'+g+"</b>"+l+"</a></li>"),s=s.replace(/#cityName#/g,n),{html:s}},getSubwayHtml:function(a){a=a||{};var n=a.cityName.replace(/市$/,""),e=a.cityCode||131,t=m.data.subway,i=t[n],c="http://"+window.location.host+"/subways/index.html?c="+i+"&ccode="+e,o="onclick = \"window.open('"+c+"')\"",s='<li class="li_subway" data-name="地铁"><a '+o+'><img src="../../../images/transparent.gif"/*tpa=http://webmap2.map.bdstatic.com/newmap/static/common/images/transparent.gif*/ class="subway" /><b>地铁</b></a></li>';return s},searchWord:function(a,n){n=n||{};var e=(n.type,n.codeStr,n.discount);if(!(a.length<1)){var t=o.cityCode||1,i="",m=0,s=map.getBounds();c.go("s&wd="+encodeURIComponent(a)+"&c="+t+"&src=0&wd2="+encodeURIComponent(i)+"&sug="+m+"&l="+map.zoomLevel+"&b=("+s.minX+","+s.minY+";"+s.maxX+","+s.maxY+")"+(e?"&pl_discount2_section="+encodeURIComponent(this.sectionDiscount)+"&pl_data_type=cater&pl_sub_type="+encodeURIComponent(a):""))}}});e.exports=window.Special=m});