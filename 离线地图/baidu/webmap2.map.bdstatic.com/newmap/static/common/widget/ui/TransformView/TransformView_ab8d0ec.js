define("common:widget/ui/TransformView/TransformView.js",function(){var t=function(){this.initialize.apply(this,arguments)};t.prototype={initialize:function(t,e,i){try{var n=this.g(t),s=this.g(e),o=this;if(this.setOptions(i),this.index=0,this.nextIndex=0,this.timer=null,this._slider=s,this._sliderChilds=s.getElementsByTagName("li"),this.indexNumEls=this.indexNumEl.getElementsByTagName("li"),this.each(this._sliderChilds,function(t,e){t.style.zIndex=0==e?2:1,o.setOpacity(t,0==e?1:0)}),this.count=this._sliderChilds.length||0,this.count>1?this.each(this.indexNumEls,function(t,e){t.onmouseover=function(){o.mouseoverFlag=1,o.flagTimer=setTimeout(function(){o.auto=!1,o.nextIndex=e,o.start(),o.getCurrentIndex!=e&&addStat(7e3,{fun:"rbanner",mover:1})},200)},t.onmouseout=function(){o.flagTimer&&clearTimeout(o.flagTimer),o.mouseoverFlag=0,o.auto=!0,o.nextIndex=o.index,o.start()}}):1==this.count&&(this.indexNumEl.style.display="none"),this.count<=0)return;n.style.overflow="hidden",n.style.position="relative",s.style.position="absolute",s.style.top=s.style.left=0}catch(r){"undefined"!=typeof alog&&alog("http://webmap2.map.bdstatic.com/newmap/static/common/widget/ui/TransformView/exception.fire","catch",{msg:r.message||r.description,path:"common:widget/ui/TransformView/TransformView.js",ln:57})}},setOptions:function(t){this.options={TWEEN:{LINEAR:function(t,e,i,n){return i*t/n+e}},time:5,auto:!0,pause:5e3,mouseoverFlag:1,onStart:function(){},onFinish:function(){},nowTime:0,duration:50},this.apply(this,this.options),this.apply(this,t||{})},start:function(){if(1!=this.count){var t=this;clearTimeout(this.timer),clearTimeout(this.animateTimer),t.onStart(),t.each(t.indexNumEls,function(e,i){e.className=t.getNextIndex()==i?"on":""}),t.fadeout()}},getCurrentIndex:function(){return this.index>=this.count&&(this.index=0),this.index},getNextIndex:function(){var t;return t=null==this.nextIndex?this.index+1>=this.count?0:this.index+1:this.nextIndex},fadeout:function(){var t=this,e=t.getCurrentIndex(),i=t.getNextIndex();t.mouseoverFlag?t.setOpacity(t._sliderChilds[i],1):t.mouseoverFlag=1,function(t){var n=arguments.callee;if(t.nowTime<=t.duration&&e!=i){var s=t.TWEEN.LINEAR(t.nowTime,1,-1,t.duration).toFixed(3);t.setOpacity(t._sliderChilds[t.index],s),t.animateTimer=setTimeout(function(){t.nowTime++,n(t)},t.time)}else t.nowTime>t.duration&&(t._sliderChilds[i].style.zIndex=2,t._sliderChilds[t.index].style.zIndex=1,t.index=i,t.nowTime=0,t.onFinish()),t.nextIndex=null,t.auto&&(t.timer=setTimeout(function(){t.start()},t.pause))}(this)},setOpacity:function(t,e){var i=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0;i?t.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:"+Math.floor(100*e)+")":(t.style.opacity=e,t.style.KHTMLOpacity=e)},each:function(t,e){for(var i=0,n=t.length;n>i;i++)e(t[i],i)},g:function(t){return"string"==typeof t?document.getElementById(t):t},apply:function(t,e){for(var i in e)t[i]=e[i];return t}}});