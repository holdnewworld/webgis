define("common:widget/ui/util/util.js",function(n,e,t){var i={taxi:[131,289,257,340,75,332,179,218,224,315,132,268,233,288,236,158],smp:[1,2,11,21,26,28,36,38,39,41],smpSug:["PoiSearch","BusSearchSta","BusSearchEnd","DriveSearchSta","DriveSearchEnd","iw_ssn","iw_esn"]},r={beforeEndHTML:function(n,e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes.length,r=0;i>r;r++)n.appendChild(t.childNodes[0]);return t=null,n.lastChild},formatBounds:function(n){var e=n||map.getBounds();return e?"("+e.minX+","+e.minY+";"+e.maxX+","+e.maxY+")":""},formatBlinfo:function(n){for(var e,t=[],i=0,r={},o=n.length;o>i;i++)if(e=n[i].addr,r[e]){var a=t[r[e]-1];a.uid=a.uid+"_"+n[i].uid,a.index=a.index+"_"+i,t.push(n[i])}else{var u=T.extend({},n[i]);t.push(u),t[i].index=i,r[e]=i+1}return t},geoToPoint:function(n){var e=n.split("|");if(1==e[0]){var t=e[1].split(","),i=new BMap.Point(parseFloat(t[0]),parseFloat(t[1]));return i}},getParam:function(n){if(n.indexOf("?")>-1)var e=n.slice(n.indexOf("?")+1);else{if(!(n.indexOf("#")>-1))return;var e=n.slice(n.indexOf("#")+1)}if(""!=e){for(var t={},i=e.split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(o[1]){var a=o[1].indexOf("#");o[1]=a>-1?o[1].slice(0,a):o[1],t[o[0]]=o[1]}}return t}},extendHashParam:function(n,e){if(n.indexOf("#")>-1){var t=n.slice(n.indexOf("#")+1);if(""!=t)for(var i=t.split(/[&\?]/),r=0;r<i.length;r++){var o=i[r].split("=");if(o[1]){var a=o[1].indexOf("#");o[1]=a>-1?o[1].slice(0,a):o[1],e[o[0]]=o[1]}}}return e},getOverlayPoint:function(n){return n.getPoint?n.getPoint():n.getPosition()},getPointByStr:function(n){if("string"==typeof n){var e=n.split(",");if(!(e.length<2))return new BMap.Point(e[0],e[1])}},getBPoints:function(n){if(n&&0!=n.length){for(var e=[],t=0;t<n.length;t++)if(n[t])for(var i=n[t].split(";"),r=0;r<i.length;r++){var o=this.getPointByStr(i[r]);e.push(o)}return e}},getPointsBounds:function(n){for(var e=new BMap.Bounds,t=0,i=n.length;i>t;t++)e.extend(n[t]);return e},getPoiPoint:function(n){var e=[],t=null;if("Point"==n.toString())t=n;else{if("string"==typeof n){if(e=T.trim(n).split(","),e.length<2)return;e[0]=parseFloat(T.trim(e[0])),e[1]=parseFloat(T.trim(e[1]))}else if(e=n.slice(0),e.length<2)return;t=new BMap.Point(e[0],e[1])}return t},parseGeo:function(n){if("string"==typeof n){var e=n.split("|"),t=parseInt(e[0]),i=e[1],r=e[2],o=r.split(";");if(4===t){for(var a=[],u=0;u<o.length-1;u++)"1"===o[u].split("-")[0]&&a.push(o[u].split("-")[1]);o=a,o.push("")}var s=[];switch(t){case 1:s.push(o[0]);break;case 2:case 3:case 4:for(var u=0;u<o.length-1;u++){var f=o[u];if(f.length>100)f=f.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g,"$1,$2;"),s.push(f);else{for(var l=[],d=f.split(","),c=0;c<d.length;c+=2){var p=d[c],h=d[c+1];l.push(p+","+h)}s.push(l.join(";"))}}}return s.length<=1&&(s=s.toString()),{type:t,bound:i,points:s}}},isInteger:function(n){return/^\+?[1-9][0-9]*$/.test(n)},filtQuery:function(n){return n=n||"",n.replace(/[\uac00-\ud7a3]/g,"").replace(/\u2022|\u2027|\u30FB/g,String.fromCharCode(183)).replace(/^\s*|\s*$/g,"")},fixed:function(n,e){for(var n=n.toString();n.length<e;)n="0"+n;return n},isInBounds:function(n,e){return e=e||map.getBounds(),e.containsPoint(n)},supportMinHeight:function(){var n;return function(){if(void 0===n){var e=document.createElement("div"),t=document.body;e.style.minHeight="100px",e.style.height="auto",e.style.padding="0",e.style.borderWidth="0",n=100===t.appendChild(e).offsetHeight,t.removeChild(e)}return n}}(),getClientSize:function(){var n=document;return{width:n.body.clientWidth,height:n.body.clientHeight}},jsonToQuery:function(n,e){var t=[];e=e||function(n){return n};for(var i in n){var r=n[i];""!=r&&null!=r&&"undefined"!=typeof r&&t.push(i+"="+e(r))}return t.join("&")},isActiveCity:function(n,e){return T.array.some(i[n],function(n){return n==e})},stopBubble:function(n){var n=window.event||n;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},preventDefault:function(n){var n=window.event||n;return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},purgeEvents:function(n){if(n){var e=n.attributes,t="";if(e)for(var i=0,r=e.length;r>i;i++)t=e[i].name,"function"==typeof n[t]&&(n[t]=null);var o=n.childnodes;if(o)for(var i=0,r=o.length;r>i;i++)arguments.callee(n.childnodes[i])}},loadSearchInfo:function(e){n.async("common:widget/ui/searchInfoWindow/searchInfoWindow.js",function(n){e&&e(n)})}};t.exports=r});