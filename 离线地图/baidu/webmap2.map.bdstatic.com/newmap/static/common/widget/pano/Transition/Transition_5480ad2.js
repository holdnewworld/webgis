define("common:widget/pano/Transition/Transition.js",function(n){var o=n("common:widget/pano/Transition/Util.js"),t=null,i=null,a=!0,e={checkSupport:function(n){a=o.isSupportCanvas()&&o.isSupportTransform3d()&&"share"!==n?!0:!1},enter:function(i,r,c,s,u){a?(this.onPlayStart=u,n.async(["common:widget/pano/Transition/MapLayer/EnterLayer.js"],function(n){var u=void 0;if(c){c instanceof BMap.Point||!c.lat||!c.lng||(c=new BMap.Point(c.lng,c.lat));var l=window.map.pointToPixel(c);u=o.mapPosToScreenPos(l.x,l.y)}t=new n(i,c,r,u,s,function(n){n===!0&&(a=!1),e.onPlayStart()},function(){e.onPlayEnd()})})):u()},exit:function(t,r,c,s,u){return a?void n.async(["common:widget/pano/Transition/MapLayer/ExitLayer.js"],function(n){var a=window.map,l=o.mapPosToScreenPos(a.width/2,a.height/2);i=new n(t,c,r,l,s,function(){e.close()}),u()}):void u()},onShow:function(n){a?this.onPlayEnd=n:n()},close:function(){a&&(t&&(t.fadeOut(),t=null),i&&(i.fadeOut(),i=null))},onPlayStart:function(){},onPlayEnd:function(){}};return e});