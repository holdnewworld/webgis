define("common:widget/com/SelectCity/SelectCity.js",function(require,exports,module){function SelectCity(t){t=t||{},T.lang.Class.apply(this,arguments),window.SelectCityInst=this,this.cinfo=t.cinfo||{},this.dom=t.dom||{},this.pop=t.pop||{},this.cityInfo={cityName:T("#curCity").html(),cityCode:modelConfig.cityCode},baiduStorage=this.cinfo.baiduStorage;SelectCity.TYPE_PROVINCE,SelectCity.TYPE_CITY;this.place=require("common:widget/com/SelectCity/CityList.js"),this.render(),this.initialize()}function addDefCityStat(){}var constant=require("common:widget/ui/constant/Constant.js"),componentManager=require("common:widget/com/componentManager.js"),AID=require("common:widget/ui/areaCfg/areaCfg.js"),searchData=require("common:widget/ui/searchData/searchData.js"),baiduStorage=null,config=require("common:widget/ui/config/config.js"),modelConfig=config.modelConfig,util=require("common:widget/ui/util/util.js"),indexUtil=require("common:widget/ui/indexUtil/IndexUtil.js"),weather=require("common:widget/ui/Weather/Weather.js"),aqiMgr=require("common:widget/ui/AQIMgr/AQIMgr.js"),mapUtil=require("common:widget/ui/mapUtil/mapUtil.js");T.lang.inherits(SelectCity,T.lang.Class,"SelectCity"),SelectCity.TYPE_PROVINCE="P",SelectCity.TYPE_CITY="C",T.object.extend(SelectCity.prototype,{provinceSelected:"sel-city-btnl-sel",citySelected:"sel-city-btnr-sel",placeType:SelectCity.TYPE_PROVINCE,letters:[],dataVersion:"20130808",dataVersionKey:"selectcity_data_version",provinceDataKey:"selectcity_province_data",cityDataKey:"selectcity_city_data",defCname:"",defCode:"",cityQueryType:"",render:function(){try{var template=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="sel_city blueC" onmousedown="T.G(\'selCityInfo\').style.display = \'none\'">    <div id="selCityTop" style="_width:100%;">        <div class="sel_city_default" id="set_default_city"></div>             <div class="sel-city-hotcity" ',"undefined"==typeof NationDisplay?"":NationDisplay,'><a href="javascript:void(0)" class="search_nation" >在全国范围内检索</a></div>        <div id="selCityHotCityId" class="sel-city-hotcity">',"undefined"==typeof hot_city?"":hot_city,'</div>        <div class="sel-city-searchbar">            <div class="btnbar">                <span href="javascript:void(0)" tid="selCityProvince" id="selCityProvince" class="sel-city-btnl">按省份</span>                <span href="javascript:void(0)" tid="selCityCity" id="selCityCity" class="sel-city-btnr">按城市</span>            </div>            <form id="selectCity" onsubmit="SelectCityInst.search(this);return false">                <input type="text" tid="selCitySearchInput" class="sel-city-searchinput" id="selCityCityWd" name="wd" class="city_text" value="输入城市名" style="color:gray" onfocus="SelectCityInst.wdClick(this)"/>                <span tid="selCitySubmit" id="selCitySubmit" class="sel-city-btn-submit">搜索</span>                <div id="selCityInfo" class="sel-city-tip">请输入正确的城市名</div>            </form>        </div>        <div id="selCityLetterListId" class="sel-city-letterbar">',"undefined"==typeof abc?"":abc,'</div>        <div style="border-top:1px solid #CCC;padding-bottom:10px;"></div>    </div>    <div id="selCityPlaceListId" style="width:100%;height:161px;overflow:hidden;">',"undefined"==typeof table?"":table,"</div></div>"),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],style=".sel_city{margin:7px 5px 5px}.sel_city .city_submit{margin-left:5px;*vertical-align:bottom}.sel_city form{margin-bottom:5px}.sel_city a{white-space:nowrap;margin-right:9px;line-height:18px}.sel_city a.black{margin-right:0}.sel_city td,.sel_city tr{margin:0;padding:0}.sel_city .sel-city-td-sf{font-weight:700}.sel_city td{vertical-align:top}.sel_city td.sel-city-td-letter{padding:0 14px 0 7px}.sel_city td.sel-city-td-sf{padding-right:8px}.sel_city .sel-city-td-sf a{margin:0}.sel_city .city_text{width:125px}.sel-city-hotcity{padding:0 5px}.sel-city-letterbar{margin:0 11px 10px}.sel-city-searchbar{background:#f9f9f9;height:24px;padding:5px 6px;margin:10px 0}.sel-city-searchbar form{position:relative;float:right}.sel-city-searchbar .btnbar{float:left;width:108px;height:23px;background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/index_a2f1ac4.png) no-repeat scroll;background-position:-302px 0}.sel-city-searchbar .sel-city-btnl,.sel-city-searchbar .sel-city-btnr{float:left;height:23px;line-height:23px;width:54px;margin-left:0;text-align:center;cursor:pointer;background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/index_a2f1ac4.png) no-repeat scroll -1300px -1000px}.sel-city-searchbar .sel-city-btnr{margin-left:-1px}.sel-city-searchbar .sel-city-btnl:hover{background-position:-302px -48px}.sel-city-searchbar .sel-city-btnl-sel{background-position:-302px -24px;font-weight:700}.sel-city-searchbar .sel-city-btnl-sel:hover{background-position:-302px -73px}.sel-city-searchbar .sel-city-btnr:hover{background-position:-355px -48px}.sel-city-searchbar .sel-city-btnr-sel{background-position:-355px -24px;font-weight:700}.sel-city-searchbar .sel-city-btnr-sel:hover{background-position:-355px -73px}.sel-city-btn-submit{float:left;background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/index_a2f1ac4.png) no-repeat scroll -302px -98px;height:24px;line-height:24px;width:48px;cursor:pointer;margin-left:5px;text-align:center}.sel-city-btn-submit:hover{background-position:-355px -98px}.sel-city-searchbar .sel-city-btn-submit-down{background-position:-302px -123px;font-weight:700}.sel-city-searchinput{border:1px solid #ccc;height:20px;width:121px;float:left;line-height:20px;text-indent:4px}.sel-city-td-letter div{font-size:24px;line-height:24px;font-weight:700;color:#ccc;padding:0;margin:0}.sel-city-tr-splitline{height:12px;visibility:hidden}.sel-city-td-other span{font-weight:700;color:gray}.sel-city-searchbar form .sel-city-tip{position:absolute;top:26px;left:0;height:20px;line-height:20px;width:121px;text-align:center;background:#FEFAF1;border:1px solid #E8AA6C;color:#AE6B42;display:none}.sel_city_default{display:none;border-bottom:1px solid #CCC;padding:7px 0 13px 5px;margin-bottom:13px;line-height:22px}.sel_city_default a.def_city{margin-left:10px;text-decoration:underline}.sel_city_default span a{margin:0 5px}";require.loadCss({content:style,name:"SelectCity"});var templateObj=[],hotStr=[],trs=[];if(_OLR&&_OLR.hot_city)for(var hotCity=_OLR.hot_city,cinfo,cityName,i=0;i<hotCity.length;i++)cinfo=hotCity[i].split("|"),cityName=cinfo[0].replace(/市/gi,""),hotStr.push("<a href='javascript:void(0)' cityCode='"+cinfo[1]+"' name='"+cityName+"' style='margin-right:5px;*margin-right:1px;'>"+cityName+"</a>\r\n");this.cinfo.ifAddrPage?templateObj.NationDisplay="":(templateObj.NationDisplay=" style='display:none;'",hotStr.splice(0,0,"<a href='javascript:void(0)'  name='全国' style='font-weight:bold;margin-right:5px'>全国</a>\r\n")),templateObj.hot_city=hotStr.join(""),this.dom.innerHTML=template(templateObj)}catch(e){"undefined"!=typeof alog&&alog("http://webmap2.map.bdstatic.com/newmap/static/common/widget/com/SelectCity/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/com/SelectCity/SelectCity.js",ln:131})}},initialize:function(){try{var t=this,e=baiduStorage.get({key:this.dataVersionKey}),i=this.versionUpdate=e!=this.dataVersion;i&&baiduStorage.set({key:this.dataVersionKey,value:this.dataVersion}),this.addEvents(),this.doClick(),window.temp.cityPop.show(),this.autoAdjustContainerHeight(),setTimeout(function(){t.scrollPanel=new baidu.ui.ScrollPanel({container:"selCityPlaceListId",autoUpdate:!1,overflow:"overflow-y",updateTimeout:!1}),t.scrollPanel.render("selCityPlaceListId")},0),setTimeout(function(){t.selectCitySg2&&t.selectCitySg2.disposeSug();var e=1;T.browser.opera&&(e=0),require.async("common:widget/ui/MapSuggest/MapSuggest.js",function(i){t.selectCitySg2=new i({inputid:"selCityCityWd",qType:1,closeB:1,offset:[e,0]}),t.selectCitySg2.setValue("输入城市名"),window.temp.cityPop.addConnectDom(T.G("bdmap_sug_selCityCityWd"))})},0),this.createDefCityHTML()}catch(n){"undefined"!=typeof alog&&alog("http://webmap2.map.bdstatic.com/newmap/static/common/widget/com/SelectCity/exception.fire","catch",{msg:n.message||n.description,path:"common:widget/com/SelectCity/SelectCity.js",ln:189})}},addEvents:function(){this.selCityTopEl=T.g("selCityTop"),this.contentEl=this.selCityTopEl.parentNode.parentNode,this.contentEl.style.overflow="hidden",this.letterEl=T.g("selCityLetterListId"),this.placeEl=T.g("selCityPlaceListId"),this.sfEl=T.g("selCityProvince"),this.csEl=T.g("selCityCity"),this.formEl=T.g("selectCity"),this.submitEl=T.g("selCitySubmit"),this.hotCityEl=T.g("selCityHotCityId"),T.on(this.letterEl,"click",this.onSelectLetter),T.on(this.placeEl,"click",this.onSelectPlace),T.on(this.hotCityEl,"click",this.onSelectPlace),T.on(this.sfEl,"click",this.onClick),T.on(this.csEl,"click",this.onClick),T.on(this.submitEl,"click",this.onClickSubmit),T.on(this.submitEl,"mousedown",this.onMouseDownSubmit),T.on(this.submitEl,"mouseup",this.onMouseUpSubmit),T.on(this.submitEl,"mouseout",this.onMouseOutSubmit);baidu("a.search_nation").on("click",function(t){SelectCityInst.selCity({cityName:"全国",cityCode:AID["全国"]}),t.preventDefault()})},onClickSubmit:function(){SelectCityInst.search(SelectCityInst.formEl)},onMouseDownSubmit:function(){T.ac(this,"sel-city-btn-submit-down")},onMouseUpSubmit:function(){T.rc(this,"sel-city-btn-submit-down")},onMouseOutSubmit:function(){T.dom.hasClass(this,"sel-city-btn-submit-down")&&T.rc(this,"sel-city-btn-submit-down")},onClick:function(){if(/^selCityProvince/.test(this.id))var t=SelectCity.TYPE_PROVINCE;else if(/^selCityCity/.test(this.id))var t=SelectCity.TYPE_CITY;SelectCityInst.placeType=t,SelectCityInst.doClick()},doClick:function(){var t=this.provinceSelected,e=this.citySelected,i=T.dom.hasClass,n=this.sfEl,s=this.csEl,a=this.placeType;a==SelectCity.TYPE_CITY&&(n=this.csEl,s=this.sfEl,t=this.citySelected,e=this.provinceSelected),i(n,t)||(T.ac(n,t),T.rc(s,e),this.togglePlace(),this.scrollPanel&&(this.autoAdjustContainerHeight(),this.scrollPanel.update(),this.scrollPanel.getScrollBar().scrollTo(0)),a==SelectCity.TYPE_CITY&&addStat("indexcityex.cityexchange.sortbycitytab"))},autoAdjustContainerHeight:function(t){var e=t||17;this.placeEl.style.height=this.getHeightByEl(this.contentEl)-this.getHeightByEl(this.selCityTopEl)-e+"px"},onSelectLetter:function(t){var e=T.event.getTarget(t);/^a$/i.test(e.tagName)&&SelectCityInst.doSelectLetter(e.innerHTML)},doSelectLetter:function(t){if(this.scrollPanel){for(var e=this.placeEl.childNodes[0].childNodes[0],i=e.childNodes,n=this.getHeightByEl(e)-this.getHeightByEl(this.placeEl),s=0,a=0,o=i.length;o>a;a++){var l=i[a].childNodes,c=l[0].childNodes[0].innerHTML;if(t==c)break;s+=this.getHeightByEl(i[a])}this.scrollPanel.getScrollBar().scrollTo(100*s/n),addStat("indexcityex.cityexchange.sortbypinyinlink")}},onSelectPlace:function(t){var e=T.event.getTarget(t);/^a$/i.test(e.tagName)&&SelectCityInst.selCity(e)},togglePlace:function(){this.letters=[];var t=this.generateData();this.placeEl.innerHTML=t.data,this.letterEl.innerHTML=t.letterData},generateLetter:function(){for(var t=[],e=this.letters,i=0,n=e.length;n>i;i++)t.push('<a href="javascript:void(0)">'+e[i]+"</a>\r\n");return t.join("")},getDataByType:function(t){return T.array.filter(this.place,function(e){return e.type==t})},getSortedDataByType:function(t){return this.getDataByType(t).sort(function(t,e){return t.idx.charCodeAt(0)-e.idx.charCodeAt(0)})},generateData:function(){var t,e,i,n,s;return this.placeType==SelectCity.TYPE_PROVINCE?(s=this.generateTableByProvince,i=this.provinceDataKey):this.placeType==SelectCity.TYPE_CITY&&(s=this.generateTableByCity,i=this.cityDataKey),n=i+"_letter",e=baiduStorage.get({key:n}),(this.versionUpdate||!(t=baiduStorage.get({key:i})))&&(t=s.call(this),e=this.generateLetter(),baiduStorage.set({key:i,value:t}),baiduStorage.set({key:n,value:e})),{data:t,letterData:e}},generateTableByProvince:function(){for(var t,e=['<table style="border-collapse:collapse;border-spacing:0;" cellpadding="0" cellspacing="0"><tbody>'],i=this.getSortedDataByType(this.placeType),n=0,s=i.length;s>n;n++){var a,o=i[n],l=this.getCitysByParentId(o.id);t!=o.idx?("undefined"!=typeof t&&e.push('<tr><td colspan="3"><div class="sel-city-tr-splitline">'+t+"</div></td></tr>"),t=o.idx,this.letters.push(t),a=t):a="",e.push("<tr>"),e.push('<td class="sel-city-td-letter"><div>'+a+"</div></td>"),e.push('<td class="sel-city-td-sf"><a href="javascript:void(0)" '+(o.code?'code="'+o.code+'"':"")+(o.fullName?' name="'+o.fullName+'"':"")+">"+o.name+":</a></td>"),e.push("<td>");for(var c=0,r=l.length;r>c;c++){var d=l[c];e.push('<a href="javascript:void(0)" '+(d.code?'code="'+d.code+'"':"")+(d.fullName?' name="'+d.fullName+'"':"")+">"+d.name+"</a>\r\n")}e.push("</td></tr>")}return e.push('<tr><td colspan="3"><div class="sel-city-tr-splitline">其它</div></td></tr>'),e.push('<tr><td><div style="visibility:hidden;">other</div></td><td class="sel-city-td-other"><span>其它:</span></td><td><a href="javascript:void(0)">香港</a><a href="javascript:void(0)">澳门</a><a href="javascript:void(0)">台湾</a></td></tr>'),e.push("</tbody></table>"),this.letters.push("其它"),e.join("")},generateTableByCity:function(){for(var t,e=['<table cellpadding="0" cellspacing="0"><tbody>'],i=this.getSortedDataByType(this.placeType),n=0,s=i.length;s>n;n++){var a=i[n];t!=a.idx&&(t&&(e.push("</td></tr>"),e.push('<tr><td colspan="2"><div class="sel-city-tr-splitline">'+t+"</div></td></tr>")),t=a.idx,this.letters.push(t),e.push('<tr><td class="sel-city-td-letter"><div>'+t+"</div></td><td>")),e.push('<a href="javascript:void(0)" '+(a.code?'code="'+a.code+'"':"")+(a.fullName?' name="'+a.fullName+'"':"")+">"+a.name+"</a>\r\n"),s-n==1&&e.push("</td></tr>")}return e.push("</tbody></table>"),e.join("")},getCitysByParentId:function(t){return T.array.filter(this.place,function(e){return e.pid==t})},getHeightByEl:function(t){return t.offsetHeight},selCity:function(t,e){var i=null,n=null;if("string"==typeof t?n=t:null!=t.cityName&&null!=t.cityCode?(n=t.cityName,i=t.cityCode):(n=t.getAttribute("name"),i=t.getAttribute("cityCode"),(null==n||""==n)&&(n=t.innerHTML),null==i&&(i=AID[n])),n=n.replace(/:/g,""),this.cinfo&&this.cinfo.echo&&"function"==typeof this.cinfo.echo)this.cinfo.echo({code:i,name:encodeURIComponent(n)});else{if("台湾"==n)return void componentManager.go("s&wd="+encodeURIComponent("台湾"),{cinfo:{exitLargeMapMode:!1}});e=e||2;var s=this;this.getCurCity(e,n,function(t){var e=t.content;indexUtil.setCurCity(e.cname,e.code,e.city_type,e),weather.add(t.weather);var i=window.currentComponent||{},n=i._className;t.aqi&&"AQIMap"==n&&e.city_type!=constant.CITY_TYPE_DIST?(modelConfig.enableMapMove=!1,s.setMapArea(t),aqiMgr.set(t.aqi,null,null)):componentManager.load("City",{json:t,cinfo:{cityInit:1,exitLargeMapMode:!1}})})}window.temp.cityPop&&window.temp.cityPop.close(),window.PanoMap&&window.PanoMap.isOpen&&window.PanoMap.hide(),t.parentNode&&"sel-city-td-sf"==t.parentNode.className||1==this.cityQueryType||(1!=parseInt(i)&&require.async("common:widget/ui/setDefCity/SetDefCity.js",function(t){t.showCityTip(n,i)}),addDefCityStat("city_switch"),addStat("indexcityex.cityexchange.cityexchangelink"))},getCurCity:function(t,e,i){var n="/?qt=cur&wd="+encodeURIComponent(e)+"&t="+(new Date).getTime();n+=aqiMgr.isActive()?"&dtype=2":"&dtype=1",baidu.ajax(n,{dataType:"json",success:function(t){t&&t.content&&i&&i(t)},error:function(){}})},search:function(t){var e=t.wd.value||"",i=this;return""==e||"输入城市名"==e?(T.G("selCityInfo").style.display="block",t.wd.focus(),!1):(e=T.trim(e),baidu.ajax("/?qt=cur&wd="+encodeURIComponent(e),{dataType:"json",success:function(t){t&&t.content&&null!=t.content.city_type?(i.cityQueryType=t.content.city_type||"",i.selCity({cityName:t.content.cname,cityCode:t.content.code},3),(2==i.cityQueryType||3==i.cityQueryType)&&addDefCityStat("city_query")):T.G("selCityInfo").style.display="block"},error:function(){}}),void addStat("indexcityex.cityexchange.searchbtn"))},wdClick:function(t){"输入城市名"==t.value&&(t.value="",t.style.color="#000")},destroy:function(){this.letterEl&&T.un(this.letterEl,"click",this.onSelectLetter),this.placeEl&&T.un(this.placeEl,"click",this.onSelectPlace),this.hotCityEl&&T.un(this.hotCityEl,"click",this.onSelectPlace),this.sfEl&&T.un(this.sfEl,"click",this.onClick),this.csEl&&T.un(this.csEl,"click",this.onClick),this.submitEl&&(T.un(this.submitEl,"click",this.onClickSubmit),T.un(this.submitEl,"mousedown",this.onMouseDownSubmit),T.un(this.submitEl,"mouseup",this.onMouseUpSubmit),T.un(this.submitEl,"mouseout",this.onMouseOutSubmit)),this.selCityTopEl=null,this.contentEl=null,this.letterEl=null,this.placeEl=null,this.sfEl=null,this.csEl=null,this.formEl=null,this.submitEl=null,this.hotCityEl=null},createDefCityHTML:function(){if(0!=modelConfig.cityType&&1!=modelConfig.cityType){this.defCname=modelConfig.defalutCityName,this.defCode=modelConfig.defalutCityCode;var t=T.cookie.get("MCITY"),e="none",i="none";parseFloat(t)>0&&this.defCode&&1!=this.defCode?i="block":e="inline";var n=T.g("set_default_city");n.style.display="block",n.innerHTML='<p id="CurCityInfo"><span>当前城市：'+this.cityInfo.cityName+'</span><a class="def_city" style="display:'+e+';" href="javascript:void(0);" onclick="SelectCityInst.setDefCity(\''+this.cityInfo.cityName+'\',this,1);return false;" id="SetDefCity">设为默认城市</a></p><p class="default_info" id="DefCityInfo" style="display:'+i+';">您默认的城市是：<a href="javascript:void(0);" onclick="SelectCityInst.selDefCity(\''+this.defCode+"','"+this.defCname+"');return false;\">"+this.defCname+'</a><span>[<a href="javascript:void(0);" onclick="SelectCityInst.delDefCity(\''+this.cityInfo.cityName+"');return false;\" >删除</a>]</span></p>",this.resetHeight()}},resetHeight:function(){this.autoAdjustContainerHeight(),this.scrollPanel&&(this.scrollPanel.update(),this.scrollPanel.getScrollBar().scrollTo(0))},setDefCity:function(t,e,i){var n=this,s=t,i=i||0;require.async("common:widget/ui/setDefCity/SetDefCity.js",function(t){t.getDefCity(s,i,function(t){n.setDefCityCb(t)})})},setDefCityCb:function(t){t.content&&1==t.content.error&&(this.defCname=modelConfig.defalutCityName=t.def_area_name,this.defCode=modelConfig.defalutCityCode=t.def_area_id,T.g("SetDefCity").style.display="none",T.g("DefCityInfo").style.display="",T.g("DefCityInfo").innerHTML='您默认的城市是：<a href="javascript:void(0);" onclick="SelectCityInst.selDefCity(\''+this.defCode+"','"+this.defCname+"');return false;\">"+this.defCname+'</a><span>[<a href="javascript:void(0);" onclick="SelectCityInst.delDefCity(\''+this.cityInfo.cityName+"');return false;\" >删除</a>]</span>",this.resetHeight(),addStat("indexcityex.cityexchange.defaultcitysettingbtn"))},selDefCity:function(t,e){t&&e&&this.selCity({cityName:e,cityCode:t},1)},delDefCity:function(){var t=this;require.async("common:widget/ui/setDefCity/SetDefCity.js",function(e){e.delDefCity(),t.resetHeight()}),addStat("indexcityex.cityexchange.deldefaultcity")},show:function(){this.pop.show()},hide:function(){this.pop.hide()},setMapArea:function(t){var e=this,i=t.content,n=util.geoToPoint(i.geo),s=i.uid,a=i.level;i.city_type==constant.CITY_TYPE_CITY?map.centerAndZoom(n,a):i.city_type==constant.CITY_TYPE_PROV?(modelConfig.enableMapMove=!1,baidu.ajax("/?qt=ext&num=1000&l="+a+"&uid="+s,{dataType:"json",success:function(t){t.content&&t.content.geo&&e.drawArea(t)},error:function(){}})):i.city_type==constant.CITY_TYPE_NATION&&(a=5,map.centerAndZoom(n,a))},drawArea:function(t){var e=t.content,i=util.parseGeo(e.geo),n=i.points,s=e.city_type==constant.CITY_TYPE_PROV?constant.AREA_TYPE_PROV:constant.AREA_TYPE_NORM;if("string"==typeof n)e.city_type==constant.CITY_TYPE_PROV?mapUtil.addArea(n,s,500):mapUtil.addArea(n,s);else for(var a=0,o=n.length;o>a;a++)n[a]&&(e.city_type==constant.CITY_TYPE_PROV?this.json.content.code==AID["福建"]||me.json.content.code==AID["浙江"]?mapUtil.addArea(n[a],s):mapUtil.addArea(n[a],s,300):mapUtil.addArea(n[a],s));var l=i.bound.split(";"),c=[],r=l[0].split(","),d=l[1].split(",");c.push(new BMap.Point(r[0],r[1])),c.push(new BMap.Point(d[0],d[1])),modelConfig.enableMapMove=!1,window.mapMoveTimer&&clearTimeout(window.mapMoveTimer),window.mapMoveTimer=setTimeout(function(){modelConfig.enableMapMove=!0},4e3),map.setViewport(c,{zoomFactor:1})}}),module.exports=SelectCity});