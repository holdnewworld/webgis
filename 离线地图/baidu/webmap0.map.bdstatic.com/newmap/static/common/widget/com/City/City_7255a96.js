define("common:widget/com/City/City.js",function(require,exports,module){function loadRes(){var t=".country strong{font-size:14px}.country p{line-height:160%;margin-bottom:10px}.country p span{padding-left:20px;display:block}.country p font a{margin-right:10px}#MapInfo .city_list{line-height:18px}#MapInfo .city_list li{width:24%;float:left}.city_close{background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/cbclose_f8fa424.gif);width:12px;height:12px;border:0;float:right;margin:2px 2px 0 0;cursor:pointer}.cityCon{width:340px;margin:10px auto;overflow:hidden}.cityCon div.cityTip_top{margin:0 auto 10px}.cityCon .cityTip_word,.cityCon .cityTip_image,.cityCon .cityTip_word_1,.cityCon .cityTip_word_2,.cityCon .cityTip_image_1,.cityCon .cityTip_image_2{margin-top:10px}.cityCon .cityTip_word b,.cityCon .cityTip_image b,.cityCon .cityTip_word_1 b,.cityCon .cityTip_word_2 b,.cityCon .cityTip_image_1 b,.cityCon .cityTip_image_2 b{display:block;margin-bottom:5px}.cityCon .cityTip_word_1{background:#f5f5f5;color:gray;padding:5px 10px}.cityCon .cityTip_word_1 a{color:gray;text-decoration:none}.cityCon .cityTip_word_1 a:hover{color:gray;text-decoration:underline}.cityCon .cityTip_word_2{background:#fcf9c6;padding:10px;color:gray}.cityCon .cityTip_word_2 a{color:gray;text-decoration:underline}.cityCon .cityTip_word_2 a:hover{color:gray;text-decoration:underline}.cityBox{height:145px;position:relative;padding-top:10px;*overflow:hidden}.cityBox .boxTitle{height:27px;line-height:27px;padding:0 8px}.cityBox .boxTitle a{float:right}.cityBox .boxCon{height:145px;padding:5px}.cityBox .boxConL,.cityBox .boxConLHov,.cityBox .boxConR,.cityBox .boxConRHov{background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png) no-repeat 0 0;cursor:pointer;height:30px;width:6px;zoom:1;_background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/new-category_4a56462.png) no-repeat 0 0}.cityBox .boxConLeft,.cityBox .boxConRight{position:absolute;top:10px;width:25px;height:140px;z-index:1;*width:30px}.cityBox .boxConLeft{left:0;*left:-5px}.cityBox .boxConRight{right:0;*right:-5px}.cityBox .boxConL{background-position:-18px -75px;position:absolute;left:12px;top:50px;z-index:2;*left:18px}.cityBox .boxConLHov{background-position:-6px -75px;position:absolute;left:12px;top:50px;z-index:2;*left:18px}.cityBox .boxConC{position:absolute;width:295px;height:140px;left:20px}.cityBox .boxConC .boxList{width:624px;position:absolute;left:0;top:0}.cityBox .boxConC .boxList li{float:left;height:70px;width:48px;text-align:center;line-height:18px;margin-left:16px;_overflow:hidden;_margin-left:16px}.cityBox .boxConC .boxList b{font-weight:100}.cityBox .hotel .tipIcon,.cityBox .caterorder .tipIcon,.cityBox .movie .tipIcon{background:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/icon_reserve_f962d1d.png) no-repeat 0 0;float:right;position:relative;bottom:83px;right:-10px;width:40px;height:24px;zoom:1}.cityBox .caterorder .tipIcon{background-image:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/discount30_7f3a9fe.png);background-position:0 0;width:78px;height:25px;position:relative;left:15px}.cityBox .movie .tipIcon{background-image:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/50pDiscount_d24b629.png);background-position:0 0;width:60px;height:25px}.cityBox .hotel .tip-icon-xiecheng{background-image:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/icon_book_xiecheng_80872fe.png);width:56px;right:-15px}.cityBox .boxConR{background-position:-12px -75px;position:absolute;right:7px;top:50px;z-index:2;*right:12px}.cityBox .boxConRHov{background-position:0 -75px;position:absolute;right:7px;top:50px;z-index:2;*right:12px}.toolsIcon img{display:block;width:30px;height:32px;background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png) no-repeat 0 -156px;_background:url(http://webmap1.map.bdstatic.com/newmap/static/common/images/new-category_4a56462.png) no-repeat 0 -156px}.toolsIcon a{height:60px;width:48px;display:block;padding:5px 0;color:#666}.toolsIcon a img{margin:0 auto 5px}.toolsIcon a:hover{color:#4073d8;text-decoration:none}.toolsIcon a:active{color:#4073d8;text-decoration:none;color:#666}.toolsIcon .hotel img{background-position:0 -156px;width:31px}.toolsIcon .hotel{margin-left:0!important}.toolsIcon .hotel a:hover img{background-position:0 -196px;width:31px}.toolsIcon .repast img{background-position:0 0;width:24px}.toolsIcon .repast{margin-left:0!important}.toolsIcon .repast a:hover img{background-position:0 -38px;width:24px}.toolsIcon .caterorder img{background-position:-586px 0}.toolsIcon .caterorder a:hover img{background-position:-586px -38px}.toolsIcon .beauty img{background-position:-27px 0;width:22px}.toolsIcon .beauty a:hover img{background-position:-27px -38px;width:22px}.toolsIcon .li_subway img{background-position:-50px 0;width:26px}.toolsIcon .li_subway a:hover img{background-position:-50px -38px;width:26px}.toolsIcon .ktv img{background-position:-172px 0;width:29px}.toolsIcon .ktv a:hover img{background-position:-172px -38px;width:29px}.toolsIcon .hotelbar img{background-position:-231px 0;width:28px}.toolsIcon .hotelbar a:hover img{background-position:-231px -38px;width:28px}.toolsIcon .hospital img{background-position:-483px 0;width:32px}.toolsIcon .hospital a:hover img{background-position:-483px -38px;width:32px}.toolsIcon .internet img{background-position:-328px 0;width:28px}.toolsIcon .internet a:hover img{background-position:-328px -38px;width:28px}.toolsIcon .bath img{background-position:-359px 0;width:25px}.toolsIcon .bath a:hover img{background-position:-359px -38px;width:25px}.toolsIcon .viewpoint img{background-position:-78px 0;width:28px}.toolsIcon .viewpoint a:hover img{background-position:-78px -38px;width:28px}.toolsIcon .li_house img{background-position:-208px -156px}.toolsIcon .li_house a:hover img{background-position:-208px -196px}.toolsIcon .shopping img{background-position:-109px 0;width:26px}.toolsIcon .shopping a:hover img{background-position:-109px -38px;width:26px}.toolsIcon .market img{background-position:-138px 0;width:32px}.toolsIcon .market{margin-left:0!important}.toolsIcon .market a:hover img{background-position:-138px -38px;width:32px}.toolsIcon .movie img{background-position:-176px -156px}.toolsIcon .movie a:hover img{background-position:-176px -196px}.toolsIcon .school img{background-position:-450px 0;width:30px}.toolsIcon .school a:hover img{background-position:-450px -38px;width:30px}.toolsIcon .bank img{background-position:-204px 0;width:25px}.toolsIcon .bank a:hover img{background-position:-204px -38px;width:25px}.toolsIcon .pharmacy img{background-position:-552px -0px;width:30px}.toolsIcon .pharmacy a:hover img{background-position:-552px -38px;width:30px}.toolsIcon .post img{background-position:-518px 0;width:30px}.toolsIcon .post a:hover img{background-position:-518px -38px;width:30px}.toolsIcon .fillingstation img{background-position:-262px 0;width:28px}.toolsIcon .fillingstation a:hover img{background-position:-262px -38px;width:28px}.toolsIcon .coffee img{background-position:-293px 0;width:32px}.toolsIcon .coffee a:hover img{background-position:-293px -38px;width:32px}.toolsIcon .atm img{background-position:-387px 0;width:30px}.toolsIcon .atm a:hover img{background-position:-387px -38px;width:30px}.toolsIcon .carpark img{background-position:-420px 0;width:28px}.toolsIcon .carpark a:hover img{background-position:-420px -38px;width:28px}.map_city_bottom{z-index:200;text-align:center;line-height:28px;margin-top:15px;border-top:#dcdcdd 1px solid;border-bottom:0;height:28px;background-color:#fafafa;width:349px;*position:relative}.map_city_bottom span{color:#e5e5e5;margin:0 6px}.map_city_bottom a{color:gray;text-decoration:none}.map_city_bottom a:hover{text-decoration:underline;outline:0}.map_city_bottom a:active{color:gray}.indexPageBox{width:330px;margin:0 auto;height:67px;overflow:hidden}.indexPage li{float:left;height:48px}.indexPage li a{display:block;height:48px;text-decoration:none;font-size:10px;-webkit-text-size-adjust:none}.index_line{clear:both;padding:10px 0;width:300px;height:5px;background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/new_index_00afcec.png) no-repeat 9px -113px;overflow:hidden}.addrBottomImg{margin:0 auto;text-align:center;padding-top:30px;position:relative;width:340px}.pc2MoAndriod{position:absolute;display:block;background-image:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png);background-position:-350px -180px;width:84px;height:26px;bottom:12px;right:131px;_background-image:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/new-pc2mo_41a6ae0.png);_background-position:0 0}.pc2MoAndriod:hover{background-position:-350px -206px;_background-position:0 -26px}.pc2MoIphone{position:absolute;display:block;background-image:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png);background-position:-434px -180px;width:84px;height:26px;bottom:12px;right:38px;_background-image:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/new-pc2mo_41a6ae0.png);_background-position:-84px 0}.pc2MoIphone:hover{background-position:-434px -206px;_background-position:-84px -26px}.cityTip_style_1,.cityTip_style_2{width:330px;margin:0 auto;height:42px;overflow:hidden;margin-bottom:10px}.cityTip_style_1 .box{padding:12px 0 0 20px;line-height:20px;color:#333}.cityTip_style_1 .box b{font-weight:700;line-height:20px;color:#333}.cityTip_style_1 .box a{line-height:20px;color:#333;text-decoration:none}.cityTip_style_1 .box a:hover{line-height:20px;color:#333;text-decoration:underline}.cityTip_style_1 .box span{margin:0 5px;color:#ebebeb;line-height:20px}#cityCon .addrBottomImg{padding-top:8px}.stOccupyPic{padding:15px 8px 0;height:50px}.hotSelector{padding:20px 15px;height:75px}.hotSelector a{text-decoration:none;color:#666;line-height:20px}.city-hotel{float:left;width:60px;text-align:center;margin-left:20px;margin-right:20px}.city-hotel a{*line-height:28px}.city-movie{float:left;width:60px;text-align:center;margin-left:20px;margin-right:20px}.city-movie a{*line-height:28px}.city-tuan,.city-waimai{float:left;width:59px;text-align:center;margin-left:20px;margin-right:20px}.city-tuan a,.city-waimai a{*line-height:28px}.city-view{float:left;width:60px;text-align:center}.city-view a{*line-height:28px}.city-hotel img,.city-movie img,.city-tuan img,.city-waimai img,.city-view img{display:block;width:49px;height:49px;margin:0 auto 5px;background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png) no-repeat}.city-hotel img{background-position:-616px 0}.city-movie img{background-position:-616px -56px}.city-tuan img{background-position:-616px -112px}.city-waimai img{background-position:-616px -224px}.city-view img{background-position:-616px -168px}#showPanoPage img{background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png) 0 -110px}.street_recommend span.pano_beta{display:block;position:absolute;top:-1px;right:-2px;width:45px;height:45px;padding:0;margin:0;z-index:200;background-image:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/panorama/pano_beta_b049dea.png);_background-image:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/panorama/pano_beta_8_073575f.png)}#recomAd{margin:18px 10px 24px;width:318px;height:88px;overflow:hidden;border:1px solid;border-color:#E6E6E6;cursor:pointer}#recomAd .recom_ad{display:inline-block}.open-map{padding:5px 0 15px 22px;display:block;no-repeat;width:100%;height:100%;position:relative}.open-map-icon{position:absolute;background:url(http://webmap2.map.bdstatic.com/newmap/static/common/images/city-index_6a99e92.png) -40px -80px no-repeat;_background:url(http://webmap0.map.bdstatic.com/newmap/static/common/images/open-map-gift-ie6_7a02aac.png) no-repeat;width:38px;height:17px;left:21px;top:3px}.open-map a{color:#4c73c2;text-decoration:none}.open-map a:hover{color:#4c73c2;text-decoration:underline}.hot-city-table{width:240px;margin-left:10px;table-layout:fixed}.hot-city-table td{width:60px}.directly-city-table{width:240px;margin-left:10px;line-height:14px;margin-bottom:-1px;table-layout:fixed;margin-top:5px}.directly-city-table td{width:60px}.city-list-table{width:240px;margin-left:10px;line-height:14px;margin-bottom:-1px;table-layout:fixed}.city-list-table td{width:60px;line-height:20px}.special-city-table{width:240px;margin-left:10px;line-height:14px;margin-bottom:8px;table-layout:fixed}.special-city-table td{width:60px}p.search-example,p.trans-example{padding-left:12px}p.search-example a,p.trans-example a{line-height:25px}p.search-example span,p.trans-example span{padding-left:0}#MapInfo .city_list a{text-decoration:none}#MapInfo .city_list a:hover{text-decoration:underline}.pro-title{padding:10px 0}";require.loadCss({content:t,name:"City"})}function City(t){MapComponent.call(this,t),this.type="city",this.config={cPoint:[12957320,4825100]},this.defaultPage=!1,this.curCity={},window.GRControll&&window.GRControll.clearGRMap(),this.animation=new Animation.Animation,this.specialArr=[],this.specialInfo={},this.statShow={subway:0,house:0,pre:0,tuan:0,topAddr:0},this.cinfo=this.cinfo||{}}var MapComponent=require("common:widget/com/MapComponent.js"),comMgr=require("common:widget/com/componentManager.js"),util=require("common:widget/ui/util/util.js"),constant=require("common:widget/ui/constant/Constant.js"),mapUtil=require("common:widget/ui/mapUtil/mapUtil.js"),AID=require("common:widget/ui/areaCfg/areaCfg.js"),Animation=require("common:widget/ui/Animation/Animation.js"),stat=require("common:widget/ui/stat/CodeStat.js"),indexUtil=require("common:widget/ui/indexUtil/IndexUtil.js"),mapInfoScrollPanel=require("common:widget/ui/mapInfoScroll/mapInfoScroll.js"),Special=require("common:widget/ui/Special/Special.js"),BoxContainer=require("common:widget/ui/BoxContainer/BoxContainer.js"),weather=require("common:widget/ui/Weather/Weather.js"),sateCityList=require("common:widget/ui/sateCityList/SateCityList.js"),searchData=require("common:widget/ui/searchData/searchData.js"),PanoUtil=require("common:widget/ui/PanoUtil/PanoUtil.js"),cmsControl=require("common:widget/ui/CMSUtil/cmsControl.js"),ClearBase=require("common:widget/ui/ClearBase/ClearBase.js"),aqiMgr=require("common:widget/ui/AQIMgr/AQIMgr.js"),config=require("common:widget/ui/config/config.js"),modelConfig=config.modelConfig,MapConfig=config.mapConfig,supportWaimaiCities=[131,289,179,224,315,316,179,178,224,127,300,194,163,75,74,257,132,146,111,104,125,340,58,282,167,53,55,332,151,264,265,307,150,268,321,168,64,229,48,50,176,355,236,287,326,234,366,360,218,156,158,233];City.arrowState=!1,T.inherits(City,MapComponent,"City"),T.extend(City.prototype,{render:function(){try{loadRes();var t=this.json,e="";if(!t&&window._OLR&&(t=this.json=baidu.json.parse(window._OLR.index)||{},window._OLR.hot_city=t.hot_city,t.content&&t.content.code&&(modelConfig.defalutCityCode=t.content.code),this.defaultPage=!0),window.isPrint&&!t&&!window._OLR)return T.g("busDrivers").style.display="none",void(T.g("searchValue").innerHTML="<li><strong>全国</strong></li>");switch(this._addCbtTip(t),addStat("index.cityindex.pvuvonline","show"),t.content.city_type){case 0:e=this.setCountry();break;case 1:e=this.setProvince();break;case 2:e=this.setCity();break;case 3:e=this.setArea()}return this.cinfo&&this.cinfo.setDefCity&&(modelConfig.defalutCityCode=t.content.code),e}catch(i){"undefined"!=typeof alog&&alog("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/exception.fire","catch",{msg:i.message||i.description,path:"common:widget/com/City/City.js",ln:179})}},_addCbtTip:function(t){if(window.cbtCities||(window.cbtCities=[]),t.content){var e=t.content.cname;if(e&&"全国"!=e)if(window.cbtCities.length>0){var i=window.cbtCities[window.cbtCities.length-1];i!=e&&window.cbtCities.push(e)}else window.cbtCities.push(e)}},_openCbtLink:function(t,e){var i="bt&c="+modelConfig.cityCode+"&sn=2$$$$$$"+encodeURIComponent(e)+"$$0$$$$&en=2$$$$$$"+encodeURIComponent(t)+"$$0$$$$&pn=0&rn=5";comMgr.go(i)},initialize:function(){try{mapInfoScrollPanel.show();var t=this.cinfo.from;if("home_btn"==t||"clear_btn"==t?window.weipaiTool&&window.weipaiTool.resetStatus():"searchBox"==this.cinfo.from&&ClearBase.clearInit(),!this.json||!this.json.content)return;this.setStatusByRes(this.json),this.setPanoView(),this.bindList(),2==this.json.content.city_type&&this.bindEvent();var e=this.json.content;if(this.json.content.cname&&1==this.json.content.if_current?(window.isPrint||(T.g("curCity"http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/).innerHTML=e.cname),modelConfig.cityName=e.cname,1==e.if_current&&e.code?(this.curCity={name:e.cname,code:e.code},indexUtil.setCurCity(e.cname,e.code,e.city_type,e)):indexUtil.setCurCity(modelConfig.cityName,modelConfig.cityCode,modelConfig.sup)):0==e.if_current&&e.pccode&&e.pcname&&(this.curCity={name:e.pcname,code:e.pccode},indexUtil.setCurCity(e.pcname,e.pccode,e.city_type,e)),"no-change-map"!==this.cinfo.mapAreaChange&&this.setMap(),null!=this.json.result.wd&&this.json&&this.json.result&&1==this.json.result.jump_back&&this.cinfo&&1!=this.cinfo.cityInit&&"setDef"!=this.cinfo.defCity&&T.g("searchCity_"+this.guid)&&(T.g("searchCity_"+this.guid).style.display="block"),1==this.json.content.baike&&this.setBaike(),this.json.content.city_type==constant.CITY_TYPE_PROV||this.json.content.city_type==constant.CITY_TYPE_DIST){var i=this,n=this.json.content.uid;if(!n)return;window.mapMoveTimer&&clearTimeout(window.mapMoveTimer),modelConfig.enableMapMove=!1,searchData.fetch("ext&num=1000&l=10&uid="+n,function(t){var e=window.currentComponent;if(i.guid==e.guid&&(modelConfig.enableMapMove=!0,t.content&&t.content.geo)){var n=util.parseGeo(t.content.geo),a=0;t.content.city_type==constant.CITY_TYPE_PROV?a=constant.AREA_TYPE_PROV:t.content.city_type==constant.CITY_TYPE_DIST&&(a=constant.AREA_TYPE_DIST);var o=n.points;if("string"==typeof o)"province"http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/==i.type?(addStat("citylist.poi.clistinstatepage"),mapUtil.addArea(o,a,500)):(addStat("citylist.poi.clistinprovincepage"),mapUtil.addArea(o,a));else for(var p=0,c=o.length;c>p;p++)o[p]&&("province"http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/==i.type?i.json.content.code==AID["福建"]||i.json.content.code==AID["浙江"]?mapUtil.addArea(o[p],a):mapUtil.addArea(o[p],a,300):mapUtil.addArea(o[p],a));var r=n.bound.split(";"),s=[],d=r[0].split(","),l=r[1].split(",");s.push(new BMap.Point(d[0],d[1])),s.push(new BMap.Point(l[0],l[1])),modelConfig.enableMapMove=!1,window.mapMoveTimer&&clearTimeout(window.mapMoveTimer),window.mapMoveTimer=setTimeout(function(){modelConfig.enableMapMove=!0},4e3),null!=i.cinfo._maplevel&&null!=i.cinfo._centerPoint?map.centerAndZoom(i.cinfo._centerPoint,i.cinfo._maplevel):"area"==i.type&&mapUtil.setViewport(s)}})}this.showDefCityTip(),weather.add(this.json.weather),aqiMgr.set(this.json.aqi,this.json.current_city,"city")}catch(a){"undefined"!=typeof alog&&alog("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/exception.fire","catch",{msg:a.message||a.description,path:"common:widget/com/City/City.js",ln:381})}},bindList:function(){var t=this,e=["caterorder","hotel","li_subway"];baidu("#cityBoxCon").delegate("li","click",function(i){var n=i.target,a=this.tagName.toLowerCase(),o="li"==a?this:baidu(n).parentsUntil("li").parent(),p=baidu(o).attr("class"),c=baidu(o).data("name");p&&!baidu.array(e).contains(p)&&t.searchWord(c,{from:"index"}),i.preventDefault()})},setStatusByRes:function(){},selCity:function(t){var e;e=null==t.getAttribute("name")||""==t.getAttribute("name")?t.innerHTML:t.name,comMgr.go("cur&curtp=0&wd="+encodeURIComponent(e),{cinfo:{cityInit:1}}),addStat("indexleftmenu.cityexchange.provinceclick")},setMap:function(){if(!this.cinfo.notChangeMapCenter)if(null!=this.cinfo._maplevel&&null!=this.cinfo._centerPoint)map.centerAndZoom(this.cinfo._centerPoint,this.cinfo._maplevel);else{var t=modelConfig.level[this.type],e=this.json.content.code;e||(e=1),this.json.content.level&&(t=parseInt(this.json.content.level));var i=util.geoToPoint(this.json.content.geo),n=!1,a=!1,o=map.mapType,p=e;if(this.json.current_city&&this.json.current_city.code&&(p=this.json.current_city.code),sateCityList.isSateMapSupportCity(p)&&(a=!0),n||o!=BMAP_NORMAL_MAP&&(a?maptypeCtrl.hide3DControl():maptypeCtrl.hide()),n);else switch(o){case BMAP_SATELLITE_MAP:a||map.setMapType(BMAP_NORMAL_MAP);break;case BMAP_NORMAL_MAP:this.json.result&&a&&1===this.json.result.pattern_sign&&(map.setMapType(BMAP_SATELLITE_MAP),maptypeCtrl&&maptypeCtrl.streetMapMgr(!0))}map.centerAndZoom(i,t)}},setCity:function(){var json=this.json;this.type="city";var content=json.content;if(content&&0==content.error)return"未查找到相关数据！";var weatherData="",template=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push("","undefined"==typeof topAdStr?"":topAdStr,'<div id="cityCon" class="cityCon" tid="citywarp">    ',"undefined"==typeof isSupportSateMapTip?"":isSupportSateMapTip,"    ","undefined"==typeof top_htmlAdStr?"":top_htmlAdStr,"    ","undefined"==typeof tuanAndPre?"":tuanAndPre,'<div class="hotSelector"><ul>',"undefined"==typeof cityHotelDisplay?"":cityHotelDisplay,"","undefined"==typeof cityMovieDisplay?"":cityMovieDisplay,"","undefined"==typeof cityTuanDisplay?"":cityTuanDisplay,'</ul></div><div style="height:1px;width:312px;background:#f0f0f0;margin-left:14px;font-size:0px;"></div>    <div class="cityBox" id="cityBox" tid="cityicon_list">        <div class="boxConC" tid="cityicon_listbox">            <ul class="boxList toolsIcon blueC" id="cityBoxCon">                ',"undefined"==typeof setForListHtml?"":setForListHtml,'            </ul>        </div>                <div class="boxConLeft"><div class="boxConL" id="cityBoxBtnL" onmouseover="this.className=\'boxConLHov\'" onmouseout="this.className=\'boxConL\'"></div></div>        <div class="boxConRight"><div class="boxConR" id="cityBoxBtnR" onmouseover="this.className=\'boxConRHov\'" onmouseout="this.className=\'boxConR\'"></div></div>    </div>        ',"undefined"==typeof springFestivalTopic?"":springFestivalTopic,"    ","undefined"==typeof richbanner?"":richbanner,"    ","undefined"==typeof addrBottomHtml?"":addrBottomHtml,'    <div class="stOccupyPic" id="showPanoPage">        <a>            <img src="',"undefined"==typeof panoImage?"":panoImage,'" width="323" height="40"/>        </a>    </div>    ',"undefined"==typeof addrBottomImg?"":addrBottomImg,"    ","undefined"==typeof bottom_htmlAdStr?"":bottom_htmlAdStr,"    ","undefined"==typeof pctomoin?"":pctomoin,"    </div>","undefined"==typeof IndexBottom?"":IndexBottom,""),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],templateObj={};templateObj.cname=content.cname,templateObj.tips=json.result.wd,this.cinfo.startCity&&(templateObj.search_city=this.cinfo.startCity.name,templateObj.city_code=this.cinfo.startCity.code),content.sample&&content.sample.poi?templateObj.sample_poi=content.sample.poi:templateObj.sample_poi_none="none",content.sample&&content.sample.route?templateObj.sample_route=content.sample.route:templateObj.sample_route_none="none",templateObj.sample_route_info=json.current_city&&1!=json.current_city.sup_bus?"找驾车路线？您可以输入：":"找公交换乘或驾车路线？您可以输入：",templateObj.panoImage="../../../images/transparent.gif"/*tpa=http://webmap0.map.bdstatic.com/newmap/static/common/images/transparent.gif*/,templateObj.isPhotoTourSupported=isPhotoTourSupported;var btTemplate=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="map_city_bottom" tid="citybottombox" id="cityBottom">    <a href="http://nlbc.baidu.com/lbs-lbc/?from=mapleft" target="_blank" onclick="addStat(\'http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexheader.commercialmark.commercialmark.bl\');">商户标注</a>    <span>|</span>    <a href="http://developer.baidu.com/map/" target="_blank" onmousedown="addStat(\'http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexheader.apientrance.apientrance.bl\');">地图API</a>    <span>|</span>    <a class="bom_jiucuo" id="mapComplaintCenter" href="http://tousu.baidu.com/map/add" target="_blank" onclick="addStat(\'poilistnormal.revision.poirevision\');">数据纠错</a>    <span class="bom_jiucuo_span">|</span>    <a href="../../../../../../../map.baidu.com/zt/faq/index.htm"/*tpa=http://map.baidu.com/zt/faq/*/ target="_blank" onclick="addStat(\'http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexleftmenu.faq.faq\');">常见问题</a>    <span>|</span>    <a href="http://qingting.baidu.com/index?pid=24" target="_blank" onclick="addStat(\'indexleftmenu.suggestion.suggestion\');">意见建议</a></div>'),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0];return templateObj.IndexBottom=btTemplate({}),this.setSpecial(templateObj),template(templateObj)},setProvince:function(){this.type="province";var template=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<table width="260" style="margin:10px;display:inline" cellspacing="0" cellpadding="0" border="0" align="left"><tr>  <td height="25" valign="top">    <strong style="font-size:14px;line-height:17px">',"undefined"==typeof province_name?"":province_name,'</strong>  </td></tr><tr>  <td class="pro-title" >    <spanstyle="display:',"undefined"==typeof none?"":none,'">百度地图搜索当前支持“<font color="#c60a00">',"undefined"==typeof province_name?"":province_name,'</font>”以下城市：    </span>  </td></tr><tr>  <td class="city_list">    <ul>      ');for(var i=0;i<provcity.length;i++){_template_fun_array.push("        ");var ll=62*Math.ceil(baidu.string(provcity[i]).getByteLength()/10);_template_fun_array.push('        <li style="width:',"undefined"==typeof ll?"":ll,'px">          <a href="javascript:void(0)" class="switchCity" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,"&#39;).selCurCity(&#39;cur&curtp=1&wd=","undefined"==typeof encodeURIComponent(provcity[i])?"":encodeURIComponent(provcity[i]),'&#39;,{cinfo:{cityInit:1}});return false;">',"undefined"==typeof provcity[i]?"":provcity[i],"</a>        </li>       ")}_template_fun_array.push('         </ul>  </td></tr><tr>  <td>    <br />    <p id="searchCity_',"undefined"==typeof guid?"":guid,'" style="display:',"undefined"==typeof searchCity_none?"":searchCity_none,'">您是否要      <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,"&#39;)._cnameSearch(&#39;","undefined"==typeof cur_kw?"":cur_kw,"&#39;,&#39;","undefined"==typeof city_code?"":city_code,'&#39;);return false;">在<b>',"undefined"==typeof search_city?"":search_city,'</b>找名称中含有"<b>',"undefined"==typeof cur_kw?"":cur_kw,'</b>"的地点</a>      </p>  </td></tr></table>'),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],templateObj={guid:this.guid},json=this.json;templateObj.province_name=json.content.cname,templateObj.cur_kw=json.result.wd;var provcity=json.content.province,str="";return null!=provcity?templateObj.provcity=provcity:templateObj.none="none",(1==this.cinfo.cityInit||null==json.result.wd)&&(templateObj.searchCity_none="none"),this.cinfo.startCity&&(templateObj.search_city=this.cinfo.startCity.name,templateObj.city_code=this.cinfo.startCity.c),addStat("citylist.poi.clistinprovincepage"),template(templateObj)},setCountry:function(){this.type="country";var template=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="mapinfo_con country">    <b>热点城市：</b>    <table class="hot-city-table">        <tr>            <td >                <a href="javascript:void(0)"  onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;" >北京</a>            </td>            <td >                <a href="javascript:void(0)"  onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;" >上海</a>            </td>            <td >                <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;" >广州</a>            </td>            <td >                <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;" >深圳</a>            </td>            <td >                <a href="javascript:void(0)"  onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;" >成都</a>            </td>       </tr>    </table>    <b>全国：</b>    <table  class="directly-city-table">        ');for(var i=0,l=directlyCityList.length;l>i;i++)_template_fun_array.push("                "),i%5==0&&_template_fun_array.push("                   <tr>                "),_template_fun_array.push("                "),""==directlyCityList[i]?_template_fun_array.push("                    <td > </td>                "):(_template_fun_array.push('                <td >                    <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;"  >',"undefined"==typeof directlyCityList[i]?"":directlyCityList[i],"</a>                </td>                "),i%5==4&&_template_fun_array.push("                    </tr>                "),_template_fun_array.push("            ")),_template_fun_array.push("         ");_template_fun_array.push('    </table>    <table class="city-list-table">        ');for(var i=0,l=cityNameList.length;l>i;i++)_template_fun_array.push("            "),i%5==0&&_template_fun_array.push("<tr>"),_template_fun_array.push("            "),"吉林"==cityNameList[i]?_template_fun_array.push('                <td >                  <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;"  name="吉林省">',"undefined"==typeof cityNameList[i]?"":cityNameList[i],"</a>                </td>            "):_template_fun_array.push('                <td >                  <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;" >',"undefined"==typeof cityNameList[i]?"":cityNameList[i],"</a>                </td>            "),_template_fun_array.push("            "),i%5==4&&_template_fun_array.push("</tr>"),_template_fun_array.push("        ");_template_fun_array.push('    </table>    <table class="special-city-table">        ');for(var i=0,l=specialCityList.length;l>i;i++)_template_fun_array.push("            "),0==i&&_template_fun_array.push("<tr>"),_template_fun_array.push("            "),""==specialCityList[i]?_template_fun_array.push("                <td > </td>            "):(_template_fun_array.push("                "),"台湾"==specialCityList[i]?_template_fun_array.push('                    <td >                        <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,"&#39;).selCurCity(&#39;s&wd=","undefined"==typeof encodeURIComponent("台湾")?"":encodeURIComponent("台湾"),'&#39;);return false;">台湾</a>                    </td>                '):_template_fun_array.push('                    <td >                        <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).selCity(this);return false;"  >',"undefined"==typeof specialCityList[i]?"":specialCityList[i],"</a>                    </td>                "),_template_fun_array.push("                "),i==l-1&&_template_fun_array.push("</tr>"),_template_fun_array.push("            ")),_template_fun_array.push("        ");_template_fun_array.push('    </table>    <b>搜索示例：</b>    <p class="search-example"> 找建筑、餐厅、旅游景点？您可以尝试<span >"<a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).searchWord(this);return false;" >中关村大厦</a>"<br>"<a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).searchWord(this);return false;" >广州中餐馆</a>"</span></p>    <p class="trans-example">        要找公交换乘或驾车路线？您可以直接输入“从……到……” 进行搜索，例如：       <span >"<a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).searchWord(this);return false;" >从中关村到天安门</a>"<br>"<a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,'&#39;).searchWord(this);return false;" >世界之窗到地王大厦</a>"</span>    </p>    <div id="setDefCity_',"undefined"==typeof guid?"":guid,'"></div>    <div id="user_feedback" class="blueC">        百度提醒您：结果有错误？请到        <a id="mapComplaintCenter" href="http://tousu.baidu.com/map/add?hidePoi=1" target="_blank">百度地图投诉中心</a>        反馈。    </div></div>'),_template_varName=null
}(_template_object);return fn=null,_template_fun_array.join("")}][0],templateObj={directlyCityList:["北京","上海","天津","重庆",""],cityNameList:["安徽","福建","甘肃","广东","广西","贵州","海南","河北","河南","黑龙江","湖北","湖南","吉林","江苏","江西","辽宁","内蒙古","宁夏","青海","山东","山西","陕西","四川","西藏","新疆","云南","浙江"],specialCityList:["香港","澳门","台湾","",""],guid:this.guid};return addStat("citylist.poi.clistinstatepage"),template(templateObj)},setArea:function(){this.type="area";var json=this.json,name=json.content.cname,weatherData="",curCityName="",preCityName="";if(window.cbtCities&&window.cbtCities.length>=2)var curCityName=window.cbtCities[window.cbtCities.length-1],preCityName=window.cbtCities[window.cbtCities.length-2];var template=[function(_template_object){var _template_fun_array=[],fn=function(__data__){var _template_varName="";for(var name in __data__)_template_varName+="var "+name+'=__data__["'+name+'"];';eval(_template_varName),_template_fun_array.push('<div class="mapinfo_con" >    <div>        <button class="city_close" onclick="this.parentNode.style.display=\'none\'"></button>        <p style="background:#e4ebf8;padding:5px">已切换至<b>',"undefined"==typeof cname?"":cname,"</b></p>    </div>    "),curCityName&&preCityName&&_template_fun_array.push('        <button class="city_close" onclick="this.parentNode.style.display = \'none\';"></button>        <p style="background-color:#E4EBF8;margin:2px 0 2px 0;padding: 5px 5px">        <a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,"&#39;)._openCbtLink(&#39;","undefined"==typeof curCityName?"":curCityName,"&#39;, &#39;","undefined"==typeof preCityName?"":preCityName,'&#39;);return false;">查看公交: 从',"undefined"==typeof preCityName?"":preCityName,"到","undefined"==typeof curCityName?"":curCityName,"</a>        </p>    "),_template_fun_array.push('</div><div style="padding:0 10px;line-height: 140%;" id="baike_',"undefined"==typeof guid?"":guid,'">    <div style="border-bottom: 1px solid rgb(207, 207, 207); height: 28px; line-height: 28px; font-size: 14px; font-weight: bold; margin: 5px 0;">        <strong style="font-size: 14px;">',"undefined"==typeof cname?"":cname,'</strong>    </div></div><p id="searchCity_',"undefined"==typeof guid?"":guid,'" style="display:',"undefined"==typeof searchCity_none?"":searchCity_none,';padding:10px">您是否要<a href="javascript:void(0)" onclick="Instance(&#39;',"undefined"==typeof guid?"":guid,"&#39;)._cnameSearch(&#39;","undefined"==typeof cur_kw?"":cur_kw,"&#39;,&#39;","undefined"==typeof city_code?"":city_code,'&#39;);return false;">在<b>',"undefined"==typeof search_city?"":search_city,'</b>找名称中含有"<b>',"undefined"==typeof cur_kw?"":cur_kw,'</b>"的地点</a></p><div id="setDefCity_',"undefined"==typeof guid?"":guid,'" style="padding: 0 0 10px 10px"></div><div style="padding:0 10px">',"undefined"==typeof weather?"":weather,"</div>"),_template_varName=null}(_template_object);return fn=null,_template_fun_array.join("")}][0],templateObj={cname:name,guid:this.guid,cur_kw:json.result.wd,weather:weatherData,curCityName:curCityName,preCityName:preCityName};return(json.result&&1!=json.result.jump_back||1==this.cinfo.cityInit||null==json.result.wd)&&(templateObj.searchCity_none="none"),this.cinfo.startCity&&(templateObj.search_city=this.cinfo.startCity.name,templateObj.city_code=this.cinfo.startCity.code),template(templateObj)},searchWord:function(t,e){e=e||{};var i=e.from||"",n="index"==i?"&sefrom=1":"",a="object"==typeof t?t.innerHTML:t,o=this.curCity.code;switch(comMgr.go(o?"s&wd="+encodeURIComponent(a)+"&c="+o+n:"s&wd="+encodeURIComponent(a)+n),a){case"景点":addStat("indexleftmenu.placemenu.scenery");break;case"餐饮":addStat("indexleftmenu.placemenu.foods");break;case"地铁":addStat("indexleftmenu.placemenu.subway");break;case"银行":addStat("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexleftmenu.placemenu.bank");break;case"超市":addStat("indexleftmenu.placemenu.supermarket");break;case"加油站":addStat("indexleftmenu.placemenu.fuelingstation");break;case"KTV":addStat("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexleftmenu.placemenu.ktv");break;case"购物":addStat("indexleftmenu.placemenu.shopping");break;case"学校":addStat("indexleftmenu.placemenu.school");break;case"酒吧":addStat("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexleftmenu.placemenu.bars");break;case"医院":addStat("indexleftmenu.placemenu.hospital");break;case"丽人":addStat("indexleftmenu.placemenu.beauty");break;case"洗浴":addStat("indexleftmenu.placemenu.takingbaths");break;case"网吧":addStat("indexleftmenu.placemenu.netcafe");break;case"ATM":addStat("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexleftmenu.placemenu.atm");break;case"停车场":addStat("indexleftmenu.placemenu.parkinglot");break;case"咖啡厅":addStat("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/indexleftmenu.placemenu.cafe");break;case"药店":addStat("indexleftmenu.placemenu.pharmacy");default:addStat("indexleftmenu.placemenu.insinstationpage")}},searchBus:function(t){var e=this.json.content.code,i=t.innerHTML.replace("从","").split("到");comMgr.go("nav&c="+e+"&sy=0&sc="+e+"&ec="+e+"&sn=2$$$$$$"+encodeURIComponent(i[0])+"$$$$$$&en=2$$$$$$"+encodeURIComponent(i[1])+"$$$$$$")},setBaike:function(){var t=T.g("baike_"+this.guid),e=this.json.content.gbk_name;t&&e&&(e=e.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g,""),this.getBaike(e,t))},getBaike:function(t,e){var i="/?qt=baike&ie=utf-8&name="+t+"&t="+(new Date).getTime();baidu.ajax(i,{dataType:"json",success:function(t){if(t&&t.content&&t.content.key){var i=t.content,n=i["abstract"].replace(/<[^>].*?(>|$)/g,"")+"...",a=['<div style="height:28px;line-height:28px;font-size:14px;font-weight:bold;border-bottom:1px solid #cfcfcf;margin:5px 0">'];a.push('<strong style="font-size:14px">'+i.key+"</strong></div>"),a.push('<font style="color:#666;line-height:20px;">'+n+"</font><div>"),a.push('<div style="text-align:right;">来自 <a href="'+i.url+'" target="_blank">百度百科</a><div>'),e.innerHTML=a.join("")}},error:function(){}})},setSpecial:function(t){var e=(this.json.special,this.json.content),i="",n="",a="";if(e){e.count_info&&e.count_info.groupon&&0!=e.count_info.groupon&&(n=e.count_info.groupon),e.count_info&&e.count_info.premium&&0!=e.count_info.premium&&(a=e.count_info.premium);var o=this.setForListHtml();t.setForListHtml=o;var p=Special.getHtml({cityName:e.cname,dataName:"preferential",dataCount:a}),c=Special.getHtml({cityName:e.cname,sup:e.sup,dataName:"tuan",dataCount:n});if(1==Special.data.tuan.sup||"北京市"==e.cname){1==Special.data.tuan.sup&&(this.statShow.tuan=1),"北京市"==e.cname&&(this.statShow.pre=1);var r='<div class="indexPageBox" id="indexPageBox"><ul class="indexPage">'+p.html+c.html+'</ul><div class="index_line"></div></div>',r="",s=c;t.cityTuanDisplay=T.array.indexOf(supportWaimaiCities,e.code)>=0?'<li onclick = "addStat(\'indexleftmenu.placemenu.takeaway\');window.open(\'http://waimai.baidu.com/\')" class="city-waimai"><a ><img src="../../../images/transparent.gif"/*tpa=http://webmap0.map.bdstatic.com/newmap/static/common/images/transparent.gif*/ width="48" height="49" /></a><a >外卖频道</a></li>':s.html,t.tuanAndPre=r}else t.tuanAndPre="";var d="<li class=\"city-hotel\" onclick=\"addStat('indexleftmenu.placemenu.hotel', null,{'da_trd':'酒店'});place.hotel.openList(Instance('"+this.guid+"'));Instance('"+this.guid+"').searchWord('酒店',{from:'index'});return false;\"><a ><img src=\""+modelConfig.timg+'" width="49" height="49" /></a><a >酒店频道</a></li>';t.cityHotelDisplay=d;var l="<li class=\"city-movie\" onclick=\"addStat('indexleftmenu.placemenu.cinema');Instance('"+this.guid+"').searchWord('电影院',{from:'index'});return false;\"><a ><img src=\""+modelConfig.timg+'" width="49" height="49" /></a><a >电影院频道</a></li>';t.cityMovieDisplay=l;var m='<li class="city-view" onclick="addStat(\'indexleftmenu.placemenu.spotshot\');window.open(\'http://map.baidu.com/heatmap/index/index/\');"><a class = "worldcup2014"><img src="'+modelConfig.timg+'" width="49" height="49" /></a><a >热力图</a></li>';t.cityViewDisplay=m,t.boxMoreVisibility=i,this.setCmsAd(t)}},setForListHtml:function(){for(var t="",e=[],i=Special.cityDataList,n="",a="",o=(this.json.special,this.json.content),p="../../../images/transparent.gif"/*tpa=http://webmap0.map.bdstatic.com/newmap/static/common/images/transparent.gif*/,c=0,r=i.length;r>c;c++){var s=i[c].name,d=i[c].cnName,l=[s,this.guid,d,MapConfig.smFlwCon,d],m=this.setLiHtml(l);"hotel"==s&&(m="<li class=\"#{0}\"><a onclick=\"addStat('indexleftmenu.placemenu.hotel');place.hotel.openList(Instance('#{1}')); Instance('#{1}').searchWord('#{2}',{from:'index'});return false;\"><img src=\"#{3}"+p+'" />#{4}</a>#{5}</li>'),e.push(baidu.string.format(m,l))}var u=this.json.current_city,h=u.sup_subway;return h=!1,h&&(n=Special.getSubwayHtml({cityName:o.cname,cityCode:u.code}),this.statShow.subway=1),a=this.setLiHtml(["pharmacy","","药店","",""]),n?(e.splice(3,0,n),e.push(a)):e.splice(9,0,a),t=e.join("")},searchPlace:function(){place.cater.openList(this)},setLiHtml:function(t){var e='<li class="#{0}" data-name="#{2}" ><a ><img src="../../../images/transparent.gif"/*tpa=http://webmap0.map.bdstatic.com/newmap/static/common/images/transparent.gif*/ />#{2}</a></li>';return e=baidu.string.format(e,t)},setCmsAd:function(t){var e="";this.jsonCmsCityData=baidu.json.parse(_OLR.index)||{};var i="";t.topAdStr="",t.top_htmlAdStr="",t.bottom_htmlAdStr="";var i=cmsControl.getPc2MoStr("city");t.addrBottomImg=i;for(var n=["top","banner"],a=_OLR?baidu.json.parse(_OLR.index)||{}:{},o=0;o<n.length;o++){var p=n[o];if("top"==p){var c="",r=a.special&&a.special.data&&a.special.data.top.index?a.special.data.top.index:"",s=r?r.length:0;if(r&&s>0){var d=new Date,l=d.getHours()%s;c=r[l].icon?'<div class="cityCmsAd" style="margin-top:0px !important;background-image:url('+r[l].icon+') !important;">':'<div class="cityCmsAd" style="margin-top:0px !important;">',c=r[l].link2?c+r[l].title+'<a href="'+r[l].link1+"\" target=\"_blank\" onclick=\"addStat('indexleftmenu.links.indexlink', 'click', {'da_trd': '"+r[l].title+"'});\">"+r[l].link_text1+'</a>&nbsp;&nbsp;<span>|</span>&nbsp;&nbsp;<a href="'+r[l].link2+"\" target=\"_blank\" onclick=\"addStat('indexleftmenu.links.indexlink', 'click', {'da_trd': '"+r[l].title+"'});\">"+r[l].link_text2+"</a></div>":c+r[l].title+'<a href="'+r[l].link1+"\" target=\"_blank\" onclick=\"addStat('indexleftmenu.links.indexlink', 'click', {'da_trd': '"+r[l].title+"'});\">"+r[l].link_text1+"</a></div>"}else c="";addStat("indexleftmenu.links.indexlink","show"),t[p+"AdStr"]=c}if("banner"==p)if(a.special&&a.special.data){var m=a.special.data.banner||[],u=m.length,c="",h=parseInt(Math.random()*u),g=m[h];if(g){var y=g.type,f=g.title,x=g.pic_url,_=g.href,b=(g.style||"",1*g.stat_code,1*g.show_prom,f),w='target="_blank"',v="";T.trim(_).length<1&&(_="javascript:void(0)",w="",v=";return false;");var C="onclick=\"addStat('indexheader.pcads.pcads', 'click', {'da_par':'"+g.title+"'});"+v+'"';"image"==y&&(b="",T.trim(x).length>0&&(b='<img style="display:block" src="'+x+'" />')),e='<a  href="'+_+'" '+w+C+">"+b+"</a>"}}else e=""}T.G("mapBanner")&&(T.G("mapBanner").innerHTML=e,addStat("indexheader.pcads.pcads","show"))},removeTip:function(t){t&&t.parentNode.removeChild(t)},addTip:function(){},bindEvent:function(){var t=this,e=T.g("cityBoxBtnL"),i=T.g("cityBoxBtnR"),n=T.g("cityBoxCon");n.style.left=City.arrowState?"-318px":"0px",e.style.visibility=City.arrowState?"":"hidden",i.style.visibility=City.arrowState?"hidden":"",T.on(i,"click",function(){City.arrowState=!0,t.animation.build({fps:100,transition:Animation.Transitions.easeInCubic,duration:100,render:function(t){try{i.style.visibility="hidden",n.style.left=-318*t+"px"}catch(e){"undefined"!=typeof alog&&alog("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/exception.fire","catch",{msg:e.message||e.description,path:"common:widget/com/City/City.js",ln:1117})}},finish:function(){e.style.visibility=""}}),addStat("indexleftmenu.placemenu.nextbox")}),T.on(e,"click",function(){City.arrowState=!1,t.animation.build({fps:100,transition:Animation.Transitions.easeInCubic,duration:100,render:function(t){try{e.style.visibility="hidden",n.style.left=-(318-318*t)+"px"}catch(i){"undefined"!=typeof alog&&alog("http://webmap0.map.bdstatic.com/newmap/static/common/widget/com/City/exception.fire","catch",{msg:i.message||i.description,path:"common:widget/com/City/City.js",ln:1135})}},finish:function(){i.style.visibility=""}}),addStat("indexleftmenu.placemenu.prebox")}),baidu.on("showPanoPage","click",function(t){t.preventDefault(),require.async("common:widget/pano/module/PanoCityPageModule/PanoCityPageModule.js",function(t){var e=new t;e.initialize(modelConfig.cityCode)}),addStat(STAT_CODE.STAT_PANORAMA,{catalog:"index",func:"click"})})},_cnameSearch:function(t,e){var i=encodeURIComponent(t),n=e||modelConfig.cityCode,a="con&contp=0&wd="+i+"&pn=0&c="+n;this.json.result&&1===this.json.result.pattern_sign&&(a+="&check_sate=0"),comMgr.go(a)},showDefCityTip:function(){var t=this,e=this.cinfo&&this.cinfo.from||"",i=this.json.content.city_type||"";2!=i&&3!=i||"searchBox"!=e||(require.async("common:widget/ui/setDefCity/SetDefCity.js",function(e){e.showCityTip(t.curCity.name,t.curCity.code)}),addStat("indexcityex.cityexchange.cityexchangebysearch"))},setPanoView:function(){var t=this.cinfo||{},e=t.isFromPano||!1;!e&&PanoUtil.isPanoStatus()&&PanoUtil.closePano("city"),BoxContainer&&BoxContainer.resetStatus()},selCurCity:function(t){comMgr.go(t),addStat("indexleftmenu.cityexchange.cityclick")}}),module.exports=City});