define("common:widget/pano/component/PanoAlbumComponent/AlbumView/PoiAlbumView.js",function(n,t,o){function i(n){this._opts=n,this.IMAGE_SIZE={width:198,height:106}}var e=n("common:widget/pano/component/PanoAlbumComponent/AlbumView/AlbumView.js"),a=n("common:widget/pano/base/util.js"),m=a.getRandom()+"_imgonload";window[m]=function(n){var t=0,o=setInterval(function(){t+=.1,1>t?a.setOpacity(n,t):(clearTimeout(o),o=null,t=null,n.onload=null,n=null)},35)},T.inherits(i,e,"PanoAlbumPoiViewComponent"),T.extend(i.prototype,{initialize:function(){try{var n='<img width="{width}px" height="{height}px" src="{src}"/><div class="photo-desc"><i class="{icon}"></i><span title="{name}">{name}</span></div>',t=this,o=t._opts.data,i=t.IMAGE_SIZE,e=t._opts.context.panoContext.getPanoUrlConfig().PANO_3DIMAGE_URL;o.photUrl||(imgUrl=this.getImage3DUrl(e,o.data,i.width,i.height));var a={cbName:m,width:i.width,height:i.height,src:imgUrl,icon:"icon i-poi-"+o.type,name:o.name};return this.render(n,a)}catch(l){"undefined"!=typeof alog&&alog("http://webmap0.map.bdstatic.com/newmap/static/common/widget/pano/component/PanoAlbumComponent/AlbumView/exception.fire","catch",{msg:l.message||l.description,path:"common:widget/pano/component/PanoAlbumComponent/AlbumView/PoiAlbumView.js",ln:57})}}}),o.exports=i});