define("common:widget/pano/Transition/MapLayer/Layer.js",function(t){var n=t("common:widget/ui/Animation/Animation.js").Animation,i=t("common:widget/pano/Transition/getCoord.js"),o=t("common:widget/pano/Transition/MapTile.js"),e=(t("common:widget/pano/Transition/TileFinder.js"),t("common:widget/pano/Transition/Context/DomContext.js"),t("common:widget/pano/Transition/Context/CanvasContext.js")),r={},a={rotateDuration:850,perspectiveDuration:300,fadeOutDuration:350,rotateX:70};return r.$constrctor=function(t,n,r,a,s,d){var c=this.container=document.createElement("div");this._onReady=function(){};var u=document.getElementById("MapHolder");this.width=u.clientWidth,this.height=u.clientHeight,this.isClosed=!1,c.id="_$"+this.id+"_layer",c.style.cssText=["-webkit-user-drag:none","-webkit-user-select:none","overflow:hidden","opacity:0.5","position:absolute","background-color:rgb(175, 200, 255)","z-index:100002","right:0","bottom:0","width:"+t+"px","height:"+n+"px"].join(";");for(var m=i(t,n,r,a,s,d),h=this,l=this.context=new e(c,t,n),f=0,p=m.length,w=0,g=function(){w++,w!=p||h.isClosed||h.play()};p>f;f++){var v=m[f],y=new o(v.x,v.y,v.z,l);y.setSize(v.size),y.setDrawPosition(v.drawX,v.drawY),y.fetch(g)}},r.fadeOut=function(){var t=this.container;(new n).build({duration:a.fadeOutDuration,fps:30,transition:function(t){return t},finish:function(){t.parentNode.removeChild(t),t=null},render:function(n){var i=1-n;t.style.opacity=i}})},r.destory=function(){},{options:a,extend:function(t){for(var n in r)t[n]||(t[n]=r[n]);return t}}});